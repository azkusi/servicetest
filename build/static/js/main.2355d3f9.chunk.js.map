{"version":3,"sources":["store_pages/hooks/useGetEvents.js","firebase.js","store_pages/hooks/useWindowSize.js","store_pages/BookingRequest.js","store_pages/NonExistentRoute.js","store_pages/hooks/useFirestore.js","store_pages/hooks/useServiceList.js","store_pages/components/ImageGrid.js","store_pages/components/Modal.js","store_pages/Gallery.js","store_pages/Services.js","store_components/Navigation.js","store_components/HomePage.js","store_pages/Messages.js","store_pages/Calendar.js","store_pages/hooks/useGetConvo.js","store_pages/components/ReturnHome.js","store_pages/Conversation.js","store_pages/hooks/useGetBookingMessages.js","store_pages/hooks/useGetBookingDetails.js","store_pages/BookingDetails.js","store_pages/NonExistentStore.js","store_pages/hooks/useGetHostName.js","App.js","reportWebVitals.js","index.js"],"names":["db","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","apps","length","app","firestore","initializeApp","useGetEvents","providerName","useState","events","setEvents","useEffect","unsub","collection","doc","onSnapshot","querySnapshot","a","event_list","forEach","data","event_status","recurrence_type","push","id","event_start","event_end","event_start_datetimeISO","event_end_datetimeISO","event_notes","endTime","daysOfWeek","startTime","startRecur","endRecur","console","log","JSON","stringify","useWindowSize","width","window","innerWidth","height","innerHeight","windowSize","setWindowSize","changeWindowSize","addEventListener","removeEventListener","BookingRequest","serviceContent","success","setSuccess","nameRef","useRef","messageRef","emailRef","serviceRef","notesRef","provider_events","site_name","setOption","serviceObjectRequested","setServiceObjectRequested","offerred_services","service_content","services","initialView","Date","initialDate","date","setDate","bookingDate","setBookingDate","bookingDateSelected","setBookingDateSelected","service_requested","setService_Requested","useLocation","today","pathname","hash","key","useHistory","screenW","setScreenW","calendarRef","subdomains","location","hostname","toString","e","preventDefault","nameSent","current","value","emailSent","messageSent","serviceChosen","serviceNotes","alert","currentTime","now","bookingref","bookingrefID","toISOString","service_length","parseFloat","duration","addMlSeconds","getTime","set","then","add","bookingRequestNotifRef","get","booking_requests_notif_array","booking_requests_notifications","update","FieldValue","arrayUnion","mixpanel","init","includes","track","i","service_name","style","Container","className","plugins","dayGridPlugin","interactionPlugin","listPlugin","timeGridPlugin","ref","customButtons","changeToMonthView","text","click","getApi","changeView","changeToWeekView","changeToTodayView","dateClick","dateStr","toDateString","view","type","document","getElementById","scrollIntoView","behavior","headerToolbar","center","left","right","views","timeGridDay","titleFormat","month","year","day","weekday","Card","Title","Body","Form","onSubmit","Group","Label","Control","placeholder","required","as","onChange","target","map","item","index","disableClock","Button","Alert","variant","page_title","require","io","process","PORT","NonExistentRoute","projectFirestore","serverTimestamp","useFirestore","provider_name","docs","setDocs","documents","gallery_images","ImageGrid","provider_Name","setSelectedImg","Spinner","animation","layout","whileHover","opacity","s","onClick","url","src","alt","initial","animate","transition","delay","Modal","selectedImg","motion","div","classList","contains","img","y","Gallery","useServiceList","setServices","servicesFB","serviceCategoriesFB","Promise","resolve","reject","service_categories","result","j","serviceHolder","servicesArray","serviceSubCategories","serviceCategories","servicesB","main_category","Services","Header","Object","keys","ListGroup","values","service","Item","Subtitle","price","Text","description","Navigation","page_theme","theme_name","Navbar","themes","colors","background","textDecoration","to","Toggle","Collapse","Nav","NavDropdown","title","align","href","Dropdown","Divider","HomePage","search","URLSearchParams","has","imgUrl","page_background_image","text_colour","title_tagline_colour","hex_code","tagline","Messages","convoref","convorefID","msgNotifRef","msg_notif_array","msgs_notifications","useGetConvo","messages","setMessages","searcher","conversationID","orderBy","messageList","snapshot","messageID","message_sent_by","message","timestamp","ReturnHome","history","Conversations","match","msgStyling","messageRefFB","convoRef","inline","useGetBookingMessages","bookingRefID","useGetBookingDetails","bookingDetails","setBookingDetails","bookingID","BookingDetails","bookingdetails","bookingRef","client_name","service_notes","disabled","NonExistentStore","App","content","setContent","setIsPending","errorPage","setErrorPage","noNav","error","setError","getSubdomain","URL","baseURL","subdomainString","replace","exists","err","auth","currentUser","signInAnonymously","undefined","exact","path","Conversation","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.2355d3f9.chunk.js","sourcesContent":["//==================================================================\n//            CALENDAR EVETNS RETRIEVAL HOOK\n//------------------------------------------------------------------\n//   Hook searches for the events relating to this service provider\n// in firestore, using the providerName prop passed to it \n// to enable to help search firestore for the correct events\n//==================================================================\n\n\n\nimport { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    firebase.initializeApp(config);\n    db = firebase.firestore()\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n  \n\n\n\nconst useGetEvents = (providerName) => {\n  const [events, setEvents] = useState([]);\n\n  \n\n//   useEffect(() => {\n\n    useEffect(()=>{\n        \n        const unsub =  db.collection('serviceProviders').doc(providerName).collection('events')\n        .onSnapshot(async (querySnapshot)=>{\n            let event_list = []\n            querySnapshot.forEach((doc)=>{\n                if(doc.data().event_status === \"DEFINITE\"){\n                    if(doc.data().recurrence_type === \"none\"){\n                        event_list.push({\n                                    \"id\": doc.id,\n                                    \"title\": \"UNAVAILABLE\", \n                                    \"start\": doc.data().event_start, \n                                    \"end\": doc.data().event_end,\n                                    \"startStr\": doc.data().event_start_datetimeISO, \n                                    \"endStr\": doc.data().event_end_datetimeISO,\n                                    \"notes\": doc.data().event_notes,\n                                    \"recurrence_type\": \"none\"\n                                })\n                    }else{\n                        if(doc.data().endTime === null){\n                            //omit end time from object\n                            event_list.push({\n                                    \"id\": doc.id,\n                                    \"title\": \"UNAVAILABLE\", \n                                    \"notes\": doc.data().event_notes,\n                                    \"daysOfWeek\": doc.data().daysOfWeek,\n                                    \"startTime\": doc.data().startTime,\n                                    \"endTime\": doc.data().endTime,\n                                    \"startRecur\": doc.data().startRecur,\n                                    \"recurrence_type\": \"simple_recurrence\"\n                                })\n                        }else{\n                            event_list.push({\n                                    \"id\": doc.id,\n                                    \"title\": \"UNAVAILABLE\", \n                                    \"notes\": doc.data().event_notes,\n                                    \"daysOfWeek\": doc.data().daysOfWeek,\n                                    \"startRecur\": doc.data().startRecur,\n                                    \"endRecur\": doc.data().endRecur,\n                                    \"startTime\": doc.data().startTime,\n                                    \"endTime\": doc.data().endTime,\n                                    \"recurrence_type\": \"simple_recurrence\"\n                                })\n                        }\n                        \n                    }\n                }\n                \n                \n            })\n            setEvents(event_list)\n            \n        })\n        // , ()=>{\n        //     console.log(\"not resetting events_list\")\n        //     setEvents(\"DN_EXIST\")\n        // })\n        return () => unsub();\n\n    }, [])\n    console.log(\"events: \" + JSON.stringify(events))\n\n    return events\n}\n\nexport default useGetEvents;","import firebase from \"firebase/compat/app\"\nimport \"firebase/compat/auth\"\n\n\n// const app = firebase.initializeApp({\n//     apiKey: \"AIzaSyBA8Oj4PDbc826IzdhGDDU579yJ2pL3N9o\",\n//     authDomain: \"serviiotest.firebaseapp.com\",\n//     projectId: \"serviiotest\",\n//     storageBucket: \"serviiotest.appspot.com\",\n//     messagingSenderId: \"199172448030\",\n//     appId: \"1:199172448030:web:c83109d3e1e9101e3ff30f\",\n//     measurementId: \"G-QL4CWBDQQJ\"\n// })\n\nexport const config = {\n    apiKey: \"AIzaSyBA8Oj4PDbc826IzdhGDDU579yJ2pL3N9o\",\n    authDomain: \"serviiotest.firebaseapp.com\",\n    projectId: \"serviiotest\",\n    storageBucket: \"serviiotest.appspot.com\",\n    messagingSenderId: \"199172448030\",\n    appId: \"1:199172448030:web:c83109d3e1e9101e3ff30f\",\n    measurementId: \"G-QL4CWBDQQJ\"\n}\n\n// export const auth = app.auth();\nexport default config","import React, {useState, useEffect} from \"react\";\n\nexport default function useWindowSize() {\n    const isSSR = typeof window !== \"undefined\";\n    const [windowSize, setWindowSize] = useState({\n        width: window.innerWidth,\n        height: window.innerHeight,\n    });\n\n    function changeWindowSize() {\n        setWindowSize({ width: window.innerWidth, height: window.innerHeight });\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", changeWindowSize);\n        changeWindowSize()\n        return () => {\n            window.removeEventListener(\"resize\", changeWindowSize);\n        };\n    }, []);\n\n    return windowSize;\n\n}\n","//=========================================================================\n//              CLIENT PAGE FOR INITIATING BOOKING REQUEST \n//=========================================================================\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Alert, Form, Button, Card, Container } from \"react-bootstrap\";\n\nimport FullCalendar from '@fullcalendar/react'; // must go before plugins\nimport dayGridPlugin from '@fullcalendar/daygrid'; // a plugin!\nimport interactionPlugin from \"@fullcalendar/interaction\"; // needed for dayClick\nimport listPlugin from '@fullcalendar/list';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport useGetEvents from './hooks/useGetEvents';\nimport DateTimePicker from '../../node_modules/react-datetime-picker'\n\nimport useWindowSize from './hooks/useWindowSize';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\n\nimport config from '../firebase';\nimport mixpanel from 'mixpanel-browser';\n\nlet db;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n  db = firebase.firestore();\n}else {\n  db = firebase.app().firestore() // if already initialized, use that one\n}\n\nfunction BookingRequest ({ serviceContent }) {\n  const [success, setSuccess] = useState(null)\n  const nameRef = useRef()\n  const messageRef = useRef()\n  const emailRef = useRef()\n  const serviceRef = useRef()\n  const notesRef = useRef()\n  const provider_events = useGetEvents(serviceContent.site_name)\n\n  const [option, setOption] = useState(null)\n\n  const [serviceObjectRequested,setServiceObjectRequested] = useState(null)\n\n  const offerred_services = serviceContent.service_content.services\n  const [initialView, setInitialView] = useState(\"timeGridWeek\")\n  const [initialDate, setInitialDate] = useState(new Date())\n  const [date, setDate] = useState(new Date());\n  const [bookingDate, setBookingDate] = useState(new Date())\n  const [bookingDateSelected, setBookingDateSelected] = useState(null)\n  const [service_requested, setService_Requested] = useState(\"\");\n  const { pathname, hash, key } = useLocation();\n  const history = useHistory()\n\n  const today = new Date()\n\n  const {width, height} = useWindowSize()\n  const [screenW, setScreenW] = useState(0.8)\n  const calendarRef = useRef()\n\n  let subdomains = window.location.hostname.toString()\n\n\n\n    useEffect(()=>{\n      mixpanel.init('a237f239cb8cd02fafc64614c70bb36b')\n      if(subdomains.includes('localhost')){\n        mixpanel.track('dev_client_side_booking_request_page_visit')\n      }else{\n        mixpanel.track('client_side_booking_request_page_visit')\n      }\n    }, [])\n  \n\n\n  useEffect(()=>{\n    console.log(\"services: \" + JSON.stringify(serviceContent.service_content.services))\n    var i = 0;\n    if(offerred_services){\n      console.log(\"running if in useEffect\")\n      for(i=0; i< offerred_services.length; i++){\n          if(offerred_services[i].service_name === service_requested){\n              setServiceObjectRequested(offerred_services[i])\n          }\n      }  \n  }\n\n  if(width < 700){\n    if(width < 500){\n      setScreenW(0.96)\n    }else{\n      setScreenW(0.8)\n    }\n    \n  }else{\n    setScreenW(0.6)\n  }\n    \n}, [service_requested, width])\n \n \n  async function onFormSubmit (e){\n    e.preventDefault();\n    const nameSent = nameRef.current.value;\n    const emailSent = emailRef.current.value\n    const messageSent = messageRef.current.value\n    const serviceChosen = serviceRef.current.value\n    const serviceNotes = notesRef.current.value\n    console.log(\"Name: \" + nameSent)\n    console.log(\"Email: \" + emailSent)\n    console.log(\"Message: \" + messageSent)\n    \n    try{\n      console.log(\"service_requested is: \" + service_requested)\n      console.log(\"offered services are: \" + JSON.stringify(serviceObjectRequested))\n      if(bookingDateSelected === null){\n        alert(\"Please select a date\")\n        return null\n      }else{\n        if(service_requested === null || service_requested === \"\"){\n          alert('Please select a service')\n          return null;\n        }\n        console.log(\"serviceRequested object: \" + JSON.stringify(serviceObjectRequested))\n        const currentTime = Date.now()\n        const bookingref = db.collection('serviceProviders').doc(serviceContent.site_name).collection('bookingrequests').doc()\n        const bookingrefID = bookingref.id\n\n        const startTime = new Date(bookingDate.toISOString())\n        let service_length = parseFloat(serviceObjectRequested.duration);\n        var addMlSeconds = 60 * 60 * 1000 * service_length;\n        const endTime = new Date(startTime.getTime() + addMlSeconds)\n\n        console.log(\"service length is: \" + service_length)\n        bookingref.set({\n          \"last_message_sent\": messageSent, \"last_message_sent_by\": \"client\", \n          \"client_name\": nameSent, \"client_email\": emailSent, \n          \"service_requested\" : serviceChosen, \"service_notes\": serviceNotes, \n          \"timestamp\": currentTime, \"booking_status\": \"pending\", \n          \"provider_read_status\": \"unread\",\n          \"startTime\": bookingDate.toISOString(), \"endTime\": endTime.toISOString()\n        }).then(()=>{\n          db.collection('serviceProviders').doc(serviceContent.site_name).collection('bookingrequests').doc(bookingrefID).collection('messages')\n          .add({\"message\": messageSent, \"client_name\": nameSent, \n                \"client_email\": emailSent, \"message_sent_by\": \"client\", \n                \"timestamp\": currentTime, \"provider_read_status\": \"unread\"\n              }).then(()=>{\n                messageRef.current.value = ''\n                setSuccess(true)\n                return null\n              })\n          \n        })\n        // get booking_request_notifications array, push new notification and bookingrequest docID the notification came from not the messages docID\n        \n        const bookingRequestNotifRef = db.collection('serviceProviders').doc(serviceContent.site_name)\n        bookingRequestNotifRef.get().then(async (doc)=>{\n          let booking_requests_notif_array = doc.data().booking_requests_notifications\n          let temp_booking_notif_array = booking_requests_notif_array.push(bookingrefID)\n          await bookingRequestNotifRef.update({\"booking_requests_notifications\" : firebase.firestore.FieldValue.arrayUnion(...booking_requests_notif_array)}) \n        })\n      }\n            \n    }\n    catch(err){\n      console.log(\"error is: \" + err)\n      setSuccess(false)\n    }\n}\n\nif(success === null){\n  return (\n    <>\n      <div>\n        <h1 style={{\"textAlign\": \"center\"}}>Send a Booking Request</h1> \n      </div>\n      <br/>\n      <br/>\n      {/* ${screenW*width}px */}\n\n      <Container className=\"justify-content-center\" style={{\"width\": `${screenW*width}px`, \"height\": `0.5*${height}px`}}>\n        <FullCalendar\n              plugins={[ dayGridPlugin, interactionPlugin, listPlugin, timeGridPlugin ]}\n              initialView={initialView}\n              events={provider_events}\n              initialDate={initialDate}\n              ref={calendarRef}\n              customButtons={\n                {\n                  changeToMonthView: {\n                    text: \"Month\",\n                    click: function () {\n                      calendarRef.current.getApi().changeView(\"dayGridMonth\", date.date);\n                    }\n                  }, changeToWeekView: {\n                    text: \"Week\",\n                    click: function(){\n                      calendarRef.current.getApi().changeView(\"timeGridWeek\", date.date);\n                      }\n                    },\n                    changeToTodayView: {\n                      text: \"Today\",\n                      click: function(){\n                        calendarRef.current.getApi().changeView(\"timeGridDay\", today);\n                        }\n                      }\n                    \n                }\n            }\n              dateClick={(date)=>{\n                console.log(\"Full Calendar API date is: \" + date.date + \" type is: \" + typeof(date.date))\n                console.log(\"date.dateStr is: \" + date.dateStr + \" type is: \" + typeof(date.dateStr))\n                console.log(\"date.date is: \" + date.date.toDateString())     \n                setDate(date.date)\n                if(calendarRef.current.getApi().view.type === \"timeGridDay\"){\n                  const elementToScrollTo = document.getElementById('sendBookingRequest')\n                  elementToScrollTo.scrollIntoView({behavior: \"smooth\"})\n                  // history.push('#sendBookingRequest')\n                }else{\n                  calendarRef.current.getApi().changeView(\"timeGridDay\", date.date);\n                }\n                //console.log(\"current view is: \" + JSON.stringify(calendarRef.current.getApi().view))\n            }}\n\n            \n            headerToolbar={{\n              center: \"title\",\n              left: \"changeToTodayView,changeToWeekView,changeToMonthView prev,next\",\n              right: \"\"\n            \n            }}\n\n            views={{\n              timeGridDay:{\n                titleFormat:{\n                  month: 'short',\n                  year: 'numeric',\n                  day: 'numeric',\n                  weekday: 'short'\n                }\n              }\n              \n            }}\n          />\n      </Container>\n      <br/>\n      <br/>\n      <Container className=\"justify-content-center\" style={{\"maxWidth\": `${screenW*width}px`}}>\n      <Card>\n        <Card.Title>\n          Send Booking Request\n        </Card.Title>\n      <Card.Body>\n        <Form id=\"sendBookingRequest\" onSubmit={onFormSubmit}>\n          <Form.Group id=\"name\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control type=\"text\" ref={nameRef} placeholder=\"Name\" required />\n          </Form.Group>\n\n          <Form.Group id=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control type=\"email\" ref={emailRef} placeholder=\"Email\" required />\n          </Form.Group>\n\n          <Form.Label>Select Service</Form.Label>\n          <Form.Control\n           aria-label=\"Select Service\"\n           as=\"select\"\n            value={service_requested}\n            onChange={e => {\n              console.log(\"e.target.value\", e.target.value);\n              setOption(e)\n              setService_Requested(e.target.value)\n            }\n          }\n           >\n          <option ref={serviceRef} value=\"\"></option>\n          {offerred_services.map((item, index)=>{\n            return(\n              <option ref={serviceRef} value={item.service_name}>{item.service_name}</option>\n            )\n            \n          })}\n          </Form.Control>\n\n          \n          <Form.Group id=\"notes\">\n            <Form.Label>Extra Notes</Form.Label>\n            <Form.Control type=\"text\" ref={notesRef} placeholder=\"Type message\" />\n          </Form.Group>\n\n          <br/>\n\n          <DateTimePicker\n            onChange={(value)=>{\n              setBookingDate(value)\n              setBookingDateSelected(true)}}\n            value={bookingDate}\n            disableClock={true}\n          />\n\n          <br/>\n          \n          <Form.Group id=\"message\">\n            <Form.Label>Message</Form.Label>\n            <Form.Control type=\"text\" ref={messageRef} placeholder=\"Type message\" />\n          </Form.Group>\n          <br/>\n          <Button type=\"submit\">Submit Booking Request</Button>\n\n        </Form>\n        </Card.Body>\n        </Card>\n      </Container>\n      </>\n      //\n      //start working on cloud function to send email to serviceProvider and to client\n\n      //on serviomain add firebase function code to retrieve messages and set notifications\n      //for each convo retrieve last message sent, whether unread by provider or not and all messages from convo\n\n  )\n}\nelse{\n  return (\n    <div>\n      {/* {success && <h2>Successfully sent</h2>} */}\n\n      {success ? <Alert variant=\"success\">\n        Your message was successfully sent to {serviceContent.service_content.page_title}\n        <br/>\n        We will send you an email when {serviceContent.service_content.page_title} responds to your message.\n      </Alert> :\n       <Alert variant=\"danger\">\n       Error occurred, please contact support at support@servviio.com\n       <br/>\n     </Alert>} \n    </div>\n    );\n}\n    \n  }\n   \n  export default BookingRequest;","//import logo from './logo.svg';\nimport React, {useState} from 'react';\nconst { io } = require(\"socket.io-client\");\n\n\n\nconst port = process.env.PORT || 5000;\n\nfunction NonExistentRoute() {\n  \n  \n  return (\n    <div className=\"Lost\">\n      <h1> The page you are looking for doesn't exist </h1>\n      <br></br>\n      <h2> Use navigation bar above to navigate to existing pages </h2>\n\n    </div>\n  );\n}\n\nexport default NonExistentRoute;\n","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {auth, config} from '../../firebase';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nlet projectFirestore;\nlet timestamp;\nlet admin_data;\n\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n    projectFirestore = firebase.firestore();\n    timestamp = firebase.firestore.FieldValue.serverTimestamp;\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n    projectFirestore = firebase.app().firestore();\n    timestamp = firebase.firestore.FieldValue.serverTimestamp;\n\n  }\n\nconst useFirestore = (provider_name) => {\n  const [docs, setDocs] = useState([]);\n  \n\n  useEffect(() => {\n    \n    const unsub = projectFirestore.collection(\"serviceProviders\").doc(provider_name)\n    .onSnapshot(doc => {\n        let documents;\n        documents = doc.data().gallery_images;\n        setDocs(documents);\n    });\n    return () => unsub();\n    \n  }, [provider_name]);\n\n  \n\n  return { docs };\n}\n\nexport default useFirestore;","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n\n\n  }\n\nconst useServiceList = (providerName) => {\n//   const [services, setServices] = useState([]);\n//   const [categories, setCategories] = useState([]);\n    console.log(\"admin_data in useServicList: \" + providerName)\n    const [services, setServices] = useState(null)\n    console.log(\"serviceList render ran again...\")\n  \n\n//   useEffect(() => {\n\n    useEffect(()=>{\n        const unsub =  db.collection(\"serviceProviders\").doc(providerName)\n        .onSnapshot((doc) => {\n            let servicesFB;\n            let serviceCategoriesFB\n            return new Promise((resolve, reject)=>{\n                servicesFB = doc.data().services  \n                serviceCategoriesFB = doc.data().service_categories       \n                console.log(\"useEffect serviceList ran again...\")\n                resolve({\"services\": servicesFB, \"serviceCategories\": serviceCategoriesFB})\n            }).then(async (result)=>{\n                return new Promise((resolve, reject)=>{\n                    let servicesArray = [];\n                    let serviceSubCategories = result.services\n                    let serviceCategories = result.serviceCategories\n\n                    \n                    var i;\n                    var j;\n                    var serviceHolder;\n                    if(serviceSubCategories && serviceCategories){\n                        if(serviceCategories.length === 0){\n                            resolve(\"NO_SERVICES\")\n                        }else{\n\n                            console.log(\"services and categories set\")\n                            for(i=0; i < serviceCategories.length; i++){\n                                //set key in services object i.e. {main categoryM: \"\"}\n                                var servicesB = {}\n                                serviceHolder = []\n                                for(j=0; j < serviceSubCategories.length; j++){\n                                    console.log(\"service category: \" + serviceCategories[i] + \" service name: \" + JSON.stringify(serviceSubCategories[j]))\n                                    if (serviceSubCategories[j].main_category === serviceCategories[i].toString()){\n                                        serviceHolder.push(serviceSubCategories[j])\n                                    }\n                                    if(j === serviceSubCategories.length -1){\n                                        //i.e. {maincategory1 : [subcategory1, subcategory2...subcategoryN]..., maincategoryM: []}\n                                        servicesB[ serviceCategories[i] ] = serviceHolder\n                                        servicesArray.push(servicesB)\n                                    }\n                                }\n                                if(i === serviceCategories.length - 1){\n                                    console.log(\"Services inside loop: \" + JSON.stringify(servicesB))\n                                    console.log(\"ServiceReady has been set to true\")\n                                    // setServices(servicesB)\n                                    // setServicesReady(true)\n                                    resolve(servicesArray)\n                                }\n                                \n                            }\n                        }\n                    }\n                        console.log(\"numbers is about to change/cause rerender...\")\n                        // setNumber((value + 10));\n                })\n            }).then((result)=>{\n                setServices(result)\n            })\n                \n\n        });\n    return () => unsub();\n}, [])\n\n\n    // const unsub =  db.collection(\"serviceProviders\").where(\"email\", \"==\", provider_email)\n    // .onSnapshot(doc => {\n    //     let servicesList;\n    //     let categoryList;\n\n    //     servicesList = doc.data().services;\n    //     categoryList = doc.data().services;\n\n    //     setServices(servicesList);              \n    //     setCategories(categoryList);\n    //     console.log(\"serviceList subscription ran...\")\n    // });\n    // return () => unsub();\n        \n    \n\n    \n    // this is a cleanup function that react will run when\n    // a component using the hook unmounts\n//   }, []);\n\n  \n\n  return services\n}\n\nexport default useServiceList;","import React from 'react';\nimport useFirestore from '../hooks/useFirestore';\nimport { motion } from 'framer-motion';\nimport { Spinner } from 'react-bootstrap';\n\nconst ImageGrid = ({ provider_Name, setSelectedImg }) => {\n\n\n  const { docs } = useFirestore(provider_Name);\n\n  return (\n    <div className=\"img-grid\">\n      {!docs && <Spinner animation=\"border\"/>}\n      {docs && docs.map((doc, index) => (\n        <div className=\"img-wrap\" key={index} \n          layout\n          whileHover={{ opacity: 1 }}s\n          onClick={() => setSelectedImg(doc.url)}\n        >\n          <img src={doc.url} alt=\"uploaded pic\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 1 }}\n          />\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default ImageGrid;","import React from 'react';\nimport { motion } from 'framer-motion';\n\nconst Modal = ({ setSelectedImg, selectedImg }) => {\n\n  const handleClick = (e) => {\n    if (e.target.classList.contains('backdrop')) {\n      setSelectedImg(null);\n    }\n  }\n\n  return (\n    <motion.div className=\"backdrop\" onClick={handleClick}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <motion.img src={selectedImg} alt=\"enlarged pic\" \n        initial={{ y: \"-100vh\" }}\n        animate={{ y: 0 }}\n      />\n    </motion.div>\n  )\n}\n\nexport default Modal;","import React, { useState, useRef, useEffect } from \"react\";\n\nimport {config} from '../firebase';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\n\n\nimport ImageGrid from './components/ImageGrid';\nimport Modal from './components/Modal';\nimport { Spinner } from \"react-bootstrap\";\n\nimport mixpanel from 'mixpanel-browser';\n\nlet db;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n  db = firebase.firestore();\n}else {\n  db = firebase.app().firestore() // if already initialized, use that one\n}\n\n\nexport default function Gallery({serviceContent}) {\n \n    const [selectedImg, setSelectedImg] = useState(null);\n    // const [providerName, setProviderName] = useState(null)\n    const providerName = serviceContent.site_name\n    \n    let subdomains = window.location.hostname.toString()\n\n\n\n    useEffect(()=>{\n      mixpanel.init('a237f239cb8cd02fafc64614c70bb36b')\n      if(subdomains.includes('localhost')){\n        mixpanel.track('dev_client_side_gallery_page_visit')\n      }else{\n        mixpanel.track('client_side_gallery_page_visit')\n      }\n    }, [])\n\n\n    if(providerName === null){\n        return(\n          <Spinner animation=\"border\"/>\n        )\n    }else{\n        return (\n          <>\n          <h1> Gallery </h1>\n          {(serviceContent.service_content.gallery_images.length === 0) ? \n            <h2>No Images Added Yet</h2>\n            :\n            <div className=\"Gallery\">\n              \n\n              \n\n              {providerName && <ImageGrid provider_Name={providerName} setSelectedImg={setSelectedImg} />}\n              { selectedImg && (\n                <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg} />\n              )}\n            </div>\n          }\n          </>\n          );\n\n    }\n\n\n  \n\n}","import React, { useEffect, useState, useRef} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport useServiceList from './hooks/useServiceList'\n\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport {config} from '../firebase';\nimport { Card, Button, Alert, Spinner, ListGroup, Modal, Form } from \"react-bootstrap\";\nimport mixpanel from 'mixpanel-browser';\n\n\nlet db;\n  var store_name;\n  var loaded;\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n    db = firebase.firestore();\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n\n\nfunction Services({ serviceContent }){\n    console.log(\"Calendar rerendered\")\n    console.log(\"admin_data in Calendar: \" + serviceContent.site_name)\n    const services = useServiceList(serviceContent.site_name)\n\n\n    let subdomains = window.location.hostname.toString()\n\n\n\n    useEffect(()=>{\n      mixpanel.init('a237f239cb8cd02fafc64614c70bb36b')\n      if(subdomains.includes('localhost')){\n        mixpanel.track('dev_client_side_services_page_visit')\n      }else{\n        mixpanel.track('client_side_services_page_visit')\n      }\n    }, [])\n\n    \n    if(serviceContent.service_content.service_categories.length !== 0){\n        if(services === null){\n            return(\n                <>\n                    <Spinner animation=\"border\" />\n                </>\n                \n            )\n        }\n        else{\n            return(\n        \n                <>\n                    <h1>Services</h1>\n                    <div>\n                        {/* {console.log(\"\" + JSON.stringify(services))} */}\n                        {services.map((item, index)=>{\n                            return(\n                                <>\n                                <Card>\n                                    {/* <Card.Img> </Card.Img> */}\n                                    <Card.Header>\n                                        {Object.keys(item)[0]} \n                                        <br/>\n                                        \n                                    </Card.Header>\n                                    \n                                    <ListGroup variant=\"flush\">\n                                        {Object.values(item)[0].map((service, i) =>{\n                                            return(\n                                                <>\n                                                <Card>\n                                                    {/* <Button onClick={deleteService(item.service_name)}> Delete Service </Button> */}\n                                                <ListGroup.Item>\n                                                    \n                                                    <Card.Title> \n                                                        {service.service_name}\n                                                        <br/>\n                                                    </Card.Title>\n                                    \n                                                        <br/>\n                                                    <Card.Subtitle> \n                                                        Price: {service.price}\n                                                    </Card.Subtitle>\n                                                    <br/>\n                                                    <Card.Subtitle>\n                                                    Duration: {service.duration} hour(s)\n                                                    </Card.Subtitle>\n                                                \n                                                    <br/>\n                                                    <Card.Text>\n                                                        {service.description}\n                                                    </Card.Text>\n                                                    </ListGroup.Item>\n                                                \n                                                </Card>\n                                                <br/>\n                                                </>\n                                            )\n                                        })}\n                                    </ListGroup>\n                                </Card>\n                                <br/>\n                                <br/>\n                                </>\n                            )\n                            \n                        })}\n                        \n                    </div>\n                </>\n                );\n        }\n    \n    }\n    else{\n        return(\n            <h2>No Services Added Yet</h2>\n        )\n    }\n\n    \n\n        \n    }\n\nexport default Services\n","import React, {useEffect, useState} from 'react';\nimport '../App.css';\nimport { Link } from 'react-router-dom';\nimport * as themes from '../themes.json';\nimport useWindowSize from '../store_pages/hooks/useWindowSize';\nimport {Dropdown, DropdownButton, Navbar, Nav, NavDropdown} from 'react-bootstrap';\n\nfunction Navigation({ serviceContent }){\n  const [screenW, setScreenW] = useState(375)\n  const {width, height} = useWindowSize()\n  const page_theme = serviceContent.service_content.page_theme.theme_name\n\n  useEffect(()=>{\n    setScreenW(width)\n  }, [width, height])\n\n  if(screenW < 1024){\n    return(\n      <>\n        <Navbar className='topnav' style={{\"background-color\": themes.themes[page_theme].colors.background, \"height\": \"15vh\"}}>\n          <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/\">\n            <div>\n                <h1>{serviceContent.service_content.page_title}</h1>\n            </div>\n          </Link>\n          <Navbar.Toggle aria-controls=\"navbar-dark-example\" />\n          <Navbar.Collapse style={{\"z-index\": \"20\"}} id=\"navbar-dark-example\">\n            <Nav className='topnav-right'>\n              <NavDropdown\n              id=\"nav-dropdown-dark-example\"\n              title={\n                <span style={{\"color\": themes.themes[page_theme].colors.text}}>Menu</span>\n              }\n              align=\"end\"\n              >\n                {/* <DropdownButton id=\"menu\" title=\"Menu\"> */}\n                <NavDropdown.Item style={{\"color\": \"black\"}} href=\"/services\">Services</NavDropdown.Item>\n                <Dropdown.Divider/>\n                <NavDropdown.Item style={{\"color\": \"black\"}} href=\"/send-me-a-booking-request\">Send Booking Request</NavDropdown.Item>\n                <Dropdown.Divider/>\n                <NavDropdown.Item style={{\"color\": \"black\"}} href=\"/send-me-a-message\">Send Message</NavDropdown.Item>\n                <Dropdown.Divider/>\n                <NavDropdown.Item style={{\"color\": \"black\"}} href=\"/gallery\">Gallery</NavDropdown.Item>\n                {/* </DropdownButton> */}\n              </NavDropdown>\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n      </>\n    );\n  }\n  else{\n    return(\n      <>\n        <div className='topnav' style={{\"background-color\": themes.themes[page_theme].colors.background, \"height\": \"15vh\"}}>\n          <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/\">\n          <div>\n              <h1>{serviceContent.service_content.page_title}</h1>\n          </div>\n          </Link>\n          <div className='topnav-right'>\n          {/* <li style={{\"padding-left\": \"15px\", \"padding-right\": \"15px\", \"listStyle\": \"none\"}}> */}\n              <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/services\">\n                Service Info & Pricing\n              </Link>\n            {/* </li> */}\n            {/* <li style={{\"padding-left\": \"15px\", \"padding-right\": \"15px\", \"listStyle\": \"none\"}}> */}\n              <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/send-me-a-booking-request\">\n                  Availability & Booking\n              </Link>\n            {/* </li> */}\n            {/* <li style={{\"padding-left\": \"15px\", \"padding-right\": \"15px\", \"listStyle\": \"none\"}}> */}\n            {/* </li> */}\n            {/* <li style={{\"padding-left\": \"15px\", \"padding-right\": \"15px\", \"listStyle\": \"none\"}}> */}\n              <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/send-me-a-message\">\n                  Send Message\n              </Link>\n            {/* </li> */}\n            <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/gallery\">\n                  Gallery              \n            </Link>\n          </div>\n        </div>\n      </>\n    );\n  }\n    \n}\n\nexport default Navigation\n","\nimport React, { useEffect } from 'react';\nimport {useLocation} from 'react-router-dom';\nimport mixpanel from 'mixpanel-browser';\n\n\n\nfunction HomePage({ serviceContent }){\n\n\n    const search = useLocation().search;\n    let subdomains = window.location.hostname.toString()\n\n\n    useEffect(()=>{\n        const searcher = new URLSearchParams(search)\n        if( !(searcher.has('source')) ){\n            mixpanel.init('a237f239cb8cd02fafc64614c70bb36b')\n            if(subdomains.includes('localhost')){\n              mixpanel.track('dev_website_page_visit_organic')\n            }else{\n              mixpanel.track('website_page_visit_organic')\n            }\n        }else{\n            mixpanel.init('a237f239cb8cd02fafc64614c70bb36b')\n            if(subdomains.includes('localhost')){\n                mixpanel.track('dev_website_page_visit_source_admin')\n            }else{\n                mixpanel.track('website_page_visit_source_admin')\n            }\n        }\n    }, [])\n\n\n    const imgUrl = serviceContent.service_content.page_background_image.url\n    const text_colour = serviceContent.service_content.title_tagline_colour.hex_code\n\n\n    console.log(\"background image URL:\" + imgUrl)\n\n\n    return(\n        \n        <div style={{\"textAlign\": \"center\"}}>\n        <div style={{\"background-image\": `url(${imgUrl})`,\n        \"background-repeat\": \"no-repeat\", \"background-attachment\": \"fixed\", \"background-size\": \"100% 100%\",   \n        \"min-height\": \"85%\", \"max-height\": \"85%\", \"opacity\": \"0.4\", \"min-width\": \"1024px\", \"width\": \"100%\",\n        \"height\": \"auto\", \"position\": \"fixed\",\n        \"bottom\": \"0\",\"left\": \"0\"}}>\n        </div>\n        <h1 style={{\"font-weight\": \"bold\", \"color\": text_colour, \"position\": \"absolute\", \"top\": \"50%\", \"left\": \"20%\", \"z-index\": \"10\"}}> \n        {serviceContent.service_content.page_title}\n        </h1>\n            <br></br>\n        <h4 style={{\"font-weight\": \"bold\", \"color\": text_colour, \"position\": \"absolute\", \"top\": \"58%\", \"left\": \"20%\", \"z-index\": \"10\"}}> {serviceContent.service_content.tagline}</h4>\n\n        </div>\n            )\n}\n\nexport default HomePage","//=========================================================================\n//            CLIENT PAGE FOR INITIATING MESSAGE TO PROVIDER   \n//=========================================================================\n\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\n// import Alert from '@mui/material/Alert';\n\nimport {app} from '../firebase';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\n\nimport config from '../firebase';\nimport mixpanel from 'mixpanel-browser';\n\nlet db;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n  db = firebase.firestore();\n}else {\n  db = firebase.app().firestore() // if already initialized, use that one\n}\n\nfunction Messages ({ serviceContent }) {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [success, setSuccess] = useState(null)\n  const nameRef = useRef()\n  const messageRef = useRef()\n  const emailRef = useRef()\n  \n  \n  let subdomains = window.location.hostname.toString()\n\n\n\n    useEffect(()=>{\n      mixpanel.init('a237f239cb8cd02fafc64614c70bb36b')\n      if(subdomains.includes('localhost')){\n        mixpanel.track('dev_client_side_messages_page_visit')\n      }else{\n        mixpanel.track('client_side_messages_page_visit')\n      }\n    }, [])\n \n \n  async function onFormSubmit (e){\n    e.preventDefault();\n    const nameSent = nameRef.current.value;\n    const emailSent = emailRef.current.value\n    const messageSent = messageRef.current.value\n    \n\n    try{\n      const currentTime = Date.now()\n      const convoref = db.collection('serviceProviders').doc(serviceContent.site_name).collection('conversations').doc()\n      const convorefID = convoref.id\n      // console.log(\"convorefID is: \" + convorefID)\n      await convoref.set({\"last_message_sent\": messageSent, \"last_message_sent_by\": \"client\", \"client_name\": nameSent, \"client_email\": emailSent, \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n      await db.collection('serviceProviders').doc(serviceContent.site_name).collection('conversations').doc(convorefID).collection('messages').add({\"message\": messageSent, \"client_name\": nameSent, \"client_email\": emailSent, \"message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n      \n      // get msgs_notifications array, push new notification and convo docID the notification came from not the messages docID\n      const msgNotifRef = db.collection('serviceProviders').doc(serviceContent.site_name)\n      msgNotifRef.get().then(async (doc)=>{\n        let msg_notif_array = doc.data().msgs_notifications\n        let temp_msg_notif_array = msg_notif_array.push(convorefID)\n        await msgNotifRef.update({\"msgs_notifications\" : firebase.firestore.FieldValue.arrayUnion(...msg_notif_array)}) \n      })\n\n      setSuccess(true)\n    }\n    catch(err){\n      console.log(\"error is: \" + err)\n      setSuccess(false);\n    }\n}\n\n  if(success === null){\n    return (\n      <>\n      <div>\n        <h1>Send a Message</h1> \n      </div>\n      <div>\n      {!success && \n      <Card>\n      <Card.Body>\n        <Form onSubmit={onFormSubmit}>\n          <Form.Group id=\"name\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control type=\"text\" ref={nameRef} placeholder=\"name\" required />\n          </Form.Group>\n\n          <Form.Group id=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control type=\"email\" ref={emailRef} placeholder=\"email\" required />\n          </Form.Group>\n          \n          <Form.Group id=\"message\">\n            <Form.Label>Message</Form.Label>\n            <Form.Control type=\"text\" ref={messageRef} placeholder=\"Type message\" required />\n          </Form.Group>\n          <Button type=\"submit\">Send Message</Button>\n        </Form>\n        </Card.Body>\n        </Card>}\n\n\n      {/* {success && <h2>Successfully sent</h2>} */}\n\n      \n\n      </div>\n      </>\n      //\n      //start working on cloud function to send email to serviceProvider and to client\n\n      //on serviomain add firebase function code to retrieve messages and set notifications\n      //for each convo retrieve last message sent, whether unread by provider or not and all messages from convo\n    );\n\n  }     \n  else{\n    return(\n      <div>\n        {success ? <Alert variant=\"success\">\n        Your message was successfully sent to {serviceContent.service_content.page_title}\n        <br/>\n        We will send you an email when {serviceContent.service_content.page_title} responds to your message.\n      </Alert>   :\n        <Alert variant=\"danger\">\n        Error occurred, please contact support at support@servviio.com\n        <br/>\n      </Alert>\n        }\n\n      </div>\n      \n    )\n  }\n\n}\n   \n  export default Messages;","import React, {useState, useEffect} from 'react';\nimport { Spinner } from 'react-bootstrap';\nconst { io } = require(\"socket.io-client\");\nconst axios = require('axios');\n\nconst port = process.env.PORT || 5000;\n\nconst Calendar = ({ serviceContent }) => {\n\n  // const [content, setContent] = useState(null);\n  // const [isPending, setIsPending] = useState(true);\n\n\n  \n\n    return (\n      <div className=\"Calendar\">\n          <h1> {serviceContent.site_name}'s calendar events - React page </h1>\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n      </div>\n    );\n  }\n   \n  export default Calendar;","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\nimport {useLocation} from 'react-router-dom';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n\n\n  }\n\n\n\nconst useGetConvo = () => {\n  const [messages, setMessages] = useState([]);\n//   const [unreadMessages, setUnreadMessages] = useState([]);\n  const search = useLocation().search;\n\n    // console.log(\"useGetBookingMessages location and location query...\" + JSON.stringify(location) + '' + JSON.stringify(location.query))\n    \n    useEffect(()=>{\n        const searcher = new URLSearchParams(search)\n        if(!(searcher.has('chat')) || !(searcher.has('provider'))){\n            setMessages(\"DN_EXIST\")\n            // setUnreadMessages(\"DN_EXIST\")\n        }else{\n            // var messageList = [];\n            // var unreadMessageList = []\n            const providerName = new URLSearchParams(search).get('provider')\n            const conversationID = new URLSearchParams(search).get('chat')\n            const unsub =  db.collection('serviceProviders').doc(providerName).collection('conversations').doc(conversationID).collection('messages')\n            .orderBy('timestamp', 'asc')\n            .onSnapshot(async (querySnapshot)=>{\n                let messageList = [];\n                // let unreadMessageList = []\n                console.log(\"convo hook rerunning\")\n                querySnapshot.forEach((snapshot) =>{\n                    // console.log(\"snapshot data: \" + JSON.stringify(snapshot.data()))\n                    const messageID = snapshot.id\n                    if(snapshot.data().message_sent_by === \"client\"){\n                        //place unread colour or notification on message\n                        // console.log(\"adding client msg\")\n                        messageList.push({\n                        \"message\": snapshot.data().message,\n                        \"timestamp\": snapshot.data().timestamp,\n                        \"message_sent_by\": snapshot.data().message_sent_by,\n                        \"messageID\": messageID})\n                    }else{\n                    //simply place message\n                    //   console.log(\"adding provider msg\")\n                    messageList.push({\n                        \"message\": snapshot.data().message,\n                        \"timestamp\": snapshot.data().timestamp,\n                        \"message_sent_by\": snapshot.data().message_sent_by,\n                        \"messageID\": messageID})\n                    }\n                    \n                })\n                setMessages(messageList)\n                // setUnreadMessages(unreadMessageList)\n                \n                \n            }, ()=>{\n                // console.log(\"not resetting messageList\")\n                // setUnreadMessages(\"DN_EXIST\")\n                setMessages(\"DN_EXIST\")\n            })\n            return () => unsub();\n            \n        }\n    }, [])\n    console.log(\"messages: \" + JSON.stringify(messages))\n\n    return messages\n}\n\nexport default useGetConvo;","//==================================================================\n//            BACK BUTTON\n//------------------------------------------------------------------\n//   Redirects user to previous page in history\n//==================================================================\n\nimport React from 'react'\nimport { useHistory } from \"react-router-dom\";\n\nfunction ReturnHome(){\n    let history = useHistory();\n    return (\n        <div className=\"back-button\" style={{\"paddingBottom\": \"10px\"}}>\n\n          <button onClick={() => history.push('/')}>Return Home</button>\n        </div>\n    );\n};\n\n\nexport default ReturnHome\n","//=========================================================================\n//    CLIENT PAGE FOR RESPONDING TO PROVIDER'S RESPONSE TO MESSAGE \n//=========================================================================\n\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport Row from \"react-bootstrap/Row\"\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport config from '../firebase';\nimport { Spinner, Form, Button, Card } from \"react-bootstrap\";\nimport {useLocation, Redirect} from 'react-router-dom'\nimport useGetConvo from './hooks/useGetConvo';\nimport useWindowSize from '../store_pages/hooks/useWindowSize';\nimport ReturnHome from './components/ReturnHome';\n\nlet db;\n  var store_name;\n  var loaded;\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n    db = firebase.firestore();\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n\nfunction Conversations({match, location}) {\n    const search = useLocation().search;\n    const {width, height} = useWindowSize()\n    const [screenW, setScreenW] = useState(0.7*width)\n\n    const msgStyling = {\"client\": {\"padding\": \"5px\", \"border-radius\": \"5px\", \"background-color\": \"#0574DD\", \"color\": \"white\", \"maxWidth\": `${0.8*screenW}px`, \"margin-right\":\"5px\", \"margin-left\": \"auto\"},\n    \"provider\": {\"padding\": \"5px\", \"border-radius\": \"5px\", \"background-color\": \"white\", \"color\": \"black\", \"maxWidth\": `${0.8*screenW}px`, \"margin-left\":\"5px\", \"margin-right\": \"auto\"} }\n\n    const provider_Name = new URLSearchParams(search).get('provider')\n\n    const messages = useGetConvo()\n    const [redirect, setRedirect] = useState(false);\n    const [finishedLoading, setFinishedLoading] = useState(false)\n    const messageRef = useRef()\n    var messageList = [];\n\n    useEffect(()=>{\n      if(width < 672){\n        setScreenW(0.8*width)\n      }else if(width < 990){\n        setScreenW(0.8*width)\n      }else{\n        setScreenW(0.5*width)\n      }\n    }, [width, height])\n\n    async function onFormSubmit (e){\n        const providerName = new URLSearchParams(search).get('provider')\n        const conversationID = new URLSearchParams(search).get('chat')\n        e.preventDefault();\n        const messageSent = messageRef.current.value\n        console.log(\"Message: \" + messageSent)\n        // setSuccess(true)\n        try{\n            const currentTime = Date.now()\n        //create new message doc for this new message provider has just typed\n          const messageRefFB = db.collection('serviceProviders').doc(providerName).collection('conversations').doc(conversationID).collection('messages').doc()\n        // update the 'most recent message sent field in the conversations collection doc'\n          const convoRef = db.collection('serviceProviders').doc(providerName).collection('conversations').doc(conversationID)\n        //   console.log(\"convorefID is: \" + convorefID)\n          await messageRefFB.set({\"message\": messageSent, \"message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n          convoRef.update({\"last_message_sent\": messageSent, \"last_message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n          .then(()=>{\n            messageRef.current.value = ''\n          })\n       \n          // get msgs_notifications array, push new notification and convo docID the notification came from not the messages docID\n        const msgNotifRef = db.collection('serviceProviders').doc(providerName)\n        msgNotifRef.get().then(async (doc)=>{\n          let msg_notif_array = doc.data().msgs_notifications\n          let temp_msg_notif_array = msg_notif_array.push(conversationID)\n          await msgNotifRef.update({\"msgs_notifications\" : firebase.firestore.FieldValue.arrayUnion(...msg_notif_array)}) \n        })\n            console.log(\"message sent: \" + messageSent) \n        }\n        catch(err){\n          console.log(\"error is: \" + err)\n        }\n    }\n\n\n\n\n\n      if(messages === \"DN_EXIST\"){\n          return(<Redirect to=\"/\" />\n              )\n      }\n      else{\n        return(  \n          <div style={{\"maxHeight\": height}}>   \n          <ReturnHome/>\n            <div style={{\"display\": \"grid\", \"place-items\": \"center\", \"align-content\": \"center\", \"paddingLeft\": \"10px\"}}>\n                {/* <h2 style={{\"position\": \"absolute\", \"top\": \"0\", \"padding-bottom\": \"5px\"}}> Your Messages</h2> */}\n\n                {messages ?\n                <>\n                  <Card style={{\"width\": `${screenW}px`, \"height\": `${0.7*height}px`, \"position\": \"absolute\", \"maxHeight\": `${0.7*height}px`, \"overflowY\": \"auto\", \"top\":\"12%\" }}>\n\n                        {messages.map((item, index)=>{\n                        return(\n                          <>\n                          <br/>\n                          <div style={msgStyling[item.message_sent_by]}>\n                            <li key={index} style={{\"listStyle\": \"none\"}}>\n                            {item.message_sent_by === 'client' ? <h5>you:</h5> : <h5>{provider_Name}:</h5> }\n                                <h4>\n                                    {item.message}\n                                </h4>\n                            </li>\n                            </div>\n                          </>\n                        )\n                        })}\n                    </Card>\n                    <div style={{\"position\": \"absolute\", \"bottom\": \"0px\", \"display\": \"table\"}}>\n                        \n                      <Form inline onSubmit={onFormSubmit}>\n                        <div style={{\"display\": \"table-row\"}}>\n                          \n                          <div style={{\"display\": \"table-cell\"}}>\n                            <Form.Group id=\"message\">\n                              <Form.Control type=\"text\" ref={messageRef} placeholder=\"Type message\" required />\n                            </Form.Group>\n                          </div>\n\n                          <div style={{\"display\": \"table-cell\"}}>\n                            <Button type=\"submit\">Send Message</Button>\n                          </div>\n\n                        </div>\n                      \n                      </Form>\n\n                    </div>\n                </>\n                :\n                <Spinner animation='border'/>\n                }\n                 \n            </div>\n            </div>\n        )\n      }\n\n      \n      \n      \n}\n\n\nexport default Conversations","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\nimport {useLocation} from 'react-router-dom';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n\n\n\nconst useGetBookingMessages = () => {\n  const [messages, setMessages] = useState([]);\n//   const [unreadMessages, setUnreadMessages] = useState([]);\n  const search = useLocation().search;\n\n    // console.log(\"useGetBookingMessages location and location query...\" + JSON.stringify(location) + '' + JSON.stringify(location.query))\n    \n    useEffect(()=>{\n        const searcher = new URLSearchParams(search)\n        if(!(searcher.has('bookingref')) || !(searcher.has('provider'))){\n            setMessages(\"DN_EXIST\")\n            // setUnreadMessages(\"DN_EXIST\")\n        }else{\n            // var messageList = [];\n            // var unreadMessageList = []\n            const providerName = new URLSearchParams(search).get('provider')\n            const bookingRefID = new URLSearchParams(search).get('bookingref')\n            const unsub = db.collection('serviceProviders').doc(providerName).collection('bookingrequests').doc(bookingRefID).collection('messages')\n            .orderBy('timestamp', 'asc')\n            .onSnapshot(async (querySnapshot)=>{\n                let messageList = [];\n                // let unreadMessageList = []\n                console.log(\"convo hook rerunning\")\n                querySnapshot.forEach((snapshot) =>{\n                    // console.log(\"snapshot data: \" + JSON.stringify(snapshot.data()))\n                    const messageID = snapshot.id\n                    if(snapshot.data().message_sent_by === \"client\"){\n                        //place unread colour or notification on message\n                        // console.log(\"adding client msg\")\n                        messageList.push({\n                        \"message\": snapshot.data().message,\n                        \"timestamp\": snapshot.data().timestamp,\n                        \"message_sent_by\": snapshot.data().message_sent_by,\n                        \"messageID\": messageID})\n                    }else{\n                    //simply place message\n                    //   console.log(\"adding provider msg\")\n                    messageList.push({\n                        \"message\": snapshot.data().message,\n                        \"timestamp\": snapshot.data().timestamp,\n                        \"message_sent_by\": snapshot.data().message_sent_by,\n                        \"messageID\": messageID})\n                    }\n                    \n                })\n                setMessages(messageList)\n                // setUnreadMessages(unreadMessageList)\n                \n                \n            }, ()=>{\n                // console.log(\"not resetting messageList\")\n                // setUnreadMessages(\"DN_EXIST\")\n                setMessages(\"DN_EXIST\")\n            })\n            return () => unsub();\n            \n        }\n    }, [])\n    console.log(\"messages: \" + JSON.stringify(messages))\n\n    return messages\n}\n\nexport default useGetBookingMessages;","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\nimport {useLocation} from 'react-router-dom';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n\n\n  }\n\n\nconst useGetBookingDetails = () => {\n    const [bookingDetails, setBookingDetails] = useState(null);\n    const search = useLocation().search;\n  \n\n    useEffect(()=>{\n        const searcher = new URLSearchParams(search)\n        if(!(searcher.has('bookingref')) || !(searcher.has('provider'))){\n            setBookingDetails(\"DN_EXIST\")\n        }else{\n            const providerName = new URLSearchParams(search).get('provider')\n            const bookingID = new URLSearchParams(search).get('bookingref')\n                \n            const unsub =  db.collection('serviceProviders').doc(providerName).collection('bookingrequests').doc(bookingID)\n            .onSnapshot((doc) => {\n                setBookingDetails(doc.data())\n            }, ()=>{\n                setBookingDetails(\"DN_EXIST\")\n            });\n            \n            return () => unsub();\n            \n            \n        }\n}, [])\n\n  \n\n  return bookingDetails\n}\n\nexport default useGetBookingDetails;","//=========================================================================\n//    CLIENT PAGE FOR RESPONDING TO PROVIDER'S RESPONSE TO BOOKING REQUEST \n//=========================================================================\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport Row from \"react-bootstrap/Row\"\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport config from '../firebase';\nimport { Spinner, Form, Button, Card } from \"react-bootstrap\";\nimport {useLocation, Redirect} from 'react-router-dom'\nimport useGetBookingMessages from './hooks/useGetBookingMessages';\nimport useGetBookingDetails from './hooks/useGetBookingDetails';\nimport useWindowSize from '../store_pages/hooks/useWindowSize';\nimport ReturnHome from './components/ReturnHome';\n\n\nlet db;\n  var store_name;\n  var loaded;\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n    db = firebase.firestore();\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n\nfunction BookingDetails({match, location}) {\n    const {width, height} = useWindowSize()\n    const [screenW, setScreenW] = useState(0.7*width)\n\n    const msgStyling = {\"client\": {\"padding\": \"5px\", \"border-radius\": \"5px\", \"background-color\": \"#0574DD\", \"color\": \"white\", \"maxWidth\": `${0.4*width}px`, \"margin-right\":\"5px\", \"margin-left\": \"auto\"},\n    \"provider\": {\"padding\": \"5px\", \"border-radius\": \"5px\", \"background-color\": \"white\", \"color\": \"black\", \"maxWidth\": `${0.4*width}px`, \"margin-left\":\"5px\", \"margin-right\": \"auto\"} }\n\n    const search = useLocation().search;\n    \n    const messages = useGetBookingMessages()\n    const bookingdetails = useGetBookingDetails()\n    const messageRef = useRef()\n    const provider_Name = new URLSearchParams(search).get('provider')\n\n    useEffect(()=>{\n        if(width < 672){\n          setScreenW(0.8*width)\n        }else if(width < 990){\n          setScreenW(0.8*width)\n        }else{\n          setScreenW(0.5*width)\n        }\n      }, [width, height])\n\n    async function onFormSubmit (e){\n        const providerName = new URLSearchParams(search).get('provider')\n        const bookingRefID = new URLSearchParams(search).get('bookingref')\n        e.preventDefault();\n        const messageSent = messageRef.current.value\n        console.log(\"Message: \" + messageSent)\n        // setSuccess(true)\n        try{\n            const currentTime = Date.now()\n            //create new message doc for this new message provider has just typed\n            const messageRefFB = db.collection('serviceProviders').doc(providerName).collection('bookingrequests').doc(bookingRefID).collection('messages').doc()\n            // update the 'most recent message sent field in the conversations collection doc'\n            const bookingRef = db.collection('serviceProviders').doc(providerName).collection('bookingrequests').doc(bookingRefID)\n            //   console.log(\"convorefID is: \" + convorefID)\n            await messageRefFB.set({\"message\": messageSent, \"message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n            bookingRef.update({\"last_message_sent\": messageSent, \"last_message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n            .then(()=>{\n                messageRef.current.value = ''\n            })\n            // get booking_request_notifications array, push new notification and bookingrequest docID the notification came from not the messages docID\n        \n            const bookingRequestNotifRef = db.collection('serviceProviders').doc(providerName)\n            bookingRequestNotifRef.get().then(async (doc)=>{\n            let booking_requests_notif_array = doc.data().booking_requests_notifications\n            let temp_msg_notif_array = booking_requests_notif_array.push(bookingRefID)\n            await bookingRequestNotifRef.update({\"booking_requests_notifications\" : firebase.firestore.FieldValue.arrayUnion(...booking_requests_notif_array)}) \n            })\n\n            console.log(\"message sent: \" + messageSent) \n        }\n        catch(err){\n          console.log(\"error is: \" + err)\n        }\n    }\n\n\n\n      if((bookingdetails === \"DN_EXIST\" || messages === \"DN_EXIST\")){\n          return(<Redirect to=\"/\" />\n              )\n      }\n      else{\n        return(     \n            <div style={{\"maxHeight\": height}}>\n            <div>\n                <ReturnHome/>\n            </div>\n            <h2 style={{\"position\": \"absolute\", \"top\": \"0%\"}}> Your Booking Request</h2>\n            <br/>\n                {\n                    (bookingdetails && messages) ?\n                        <div style={{\"display\": \"grid\", \"place-items\": \"center\", \"align-content\": \"center\"}}>\n                            <Card style={{\"width\": `${screenW}px`, \"position\": \"absolute\", \"maxHeight\": `${0.25*height}px`, \"overflowY\": \"auto\", \"top\":\"10%\"}}>\n                                <Card.Body>\n                                    <Card.Title>\n                                        {bookingdetails.client_name}\n                                    </Card.Title>\n                                    <Card.Text>\n                                        Service: {bookingdetails.service_requested}\n                                        Notes: {bookingdetails.service_notes}\n                                        <Form.Label>Event Start</Form.Label>\n                                        <Card.Text\n                                            type=\"text\"\n                                            disabled={true}\n                                            // ref={eventTodayNotesRef}\n                                            placeholder={`${new Date(bookingdetails.startTime).toString()}`}\n                                        />\n                                        <br/>\n\n                                        <Form.Label>Event End</Form.Label>\n                                        <Card.Text \n                                        type=\"text\"\n                                        disabled={true}\n                                        // ref={eventTodayNotesRef}\n                                        placeholder={`${new Date(bookingdetails.endTime).toString()}`}\n                                        />\n                                    </Card.Text>\n                                </Card.Body>\n\n                                {/* <div>\n                                    <Button variant='secondary' onClick={()=>{setShowButtons(true)}}> Cancel </Button>\n                                </div> */}\n                                \n\n                            </Card>\n                            <br/>\n        \n                           <Card style={{\"width\": `${screenW}px`, \"height\": `${0.4*height}px`, \"display\": \"block\", \"maxHeight\": `${0.4*height}px`, \"overflowY\": \"auto\", \"top\":\"50%\" }}>\n                                {messages.map((item, index)=>{\n                                return(\n                                    <>\n                                    <div style={msgStyling[item.message_sent_by]} >\n                                    <li key={index} style={{\"list-style\": \"none\"}}>\n                                    {item.message_sent_by === 'client' ? <h5>you:</h5> : <h5>{provider_Name}:</h5> }\n                                        <h4>\n                                            {item.message}\n                                        </h4>\n                                    </li>\n                                    </div>\n                                    <br/>\n                                    <br/>\n                                    </>\n                                )\n                                })}\n                            </Card>\n\n                            <div style={{\"position\": \"absolute\", \"bottom\": \"0px\", \"display\": \"table\"}}>\n                                <Form inline onSubmit={onFormSubmit}>\n                                    <div style={{\"display\": \"table-row\"}}>\n                                        \n                                        <div style={{\"display\": \"table-cell\"}}>\n                                            <Form.Group id=\"message\">\n                                                <Form.Control type=\"text\" ref={messageRef} placeholder=\"Type message\" required />\n                                            </Form.Group>\n                                        </div>\n\n                                        <div style={{\"display\": \"table-cell\"}}>\n                                            <Button type=\"submit\">Send Message</Button>\n                                        </div>\n                                    \n                                    </div>\n                                    \n                                </Form>\n                            </div>\n\n                        </div>\n                    : <Spinner animation='border'/>\n\n                }\n                 \n            </div>\n        )\n      }\n\n      \n      \n      \n}\n\n\nexport default BookingDetails","//import logo from './logo.svg';\nimport React, {useState} from 'react';\nconst { io } = require(\"socket.io-client\");\n\n\n\nconst port = process.env.PORT || 5000;\n\nfunction NonExistentStore() {\n  \n  \n  return (\n    <div className=\"Lost\">\n      <h1> The page you are looking for doesn't exist </h1>\n      <br></br>\n      <h2> Navigate to servviio.com to create a site for your service </h2>\n\n    </div>\n  );\n}\n\nexport default NonExistentStore;\n","//==================================================================\n//            HOSTNAME RETRIEVAL HOOK\n//------------------------------------------------------------------\n//   Hook uses the hostname in the window to search for the provider's \n// store content to use as props throughout the rest of the application\n//==================================================================\n\n\n\nimport { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n\n\n  }\n\n\n\nconst useGetHostName = () => {\n  const hostName  = window.location.hostname\n  const [hostToSend, setHostToSend] = useState(null)\n\n  \n\n  function changeHostName() {\n    setHostToSend(hostName);\n}\n    useEffect(()=>{\n        changeHostName()\n\n    }, [hostName])\n    console.log(\"hostname is: \" + hostName)\n\n    return hostToSend\n}\n\nexport default useGetHostName;","//import logo from './logo.svg';\nimport './App.css';\nimport Home from './store_pages/BookingRequest'\nimport {BrowserRouter as Router, Route, Switch, useLocation} from 'react-router-dom';\nimport Lost from './store_pages/NonExistentRoute';\n\nimport React, {useState, useEffect} from 'react';\nimport Gallery from './store_pages/Gallery';\nimport Services from './store_pages/Services';\nimport Navigation from './store_components/Navigation';\nimport HomePage from './store_components/HomePage';\n\nimport Calendar from './store_pages/Calendar';\nimport BookingRequest from './store_pages/BookingRequest';\nimport Messages from './store_pages/Messages';\nimport Conversations from './store_pages/Conversation';\nimport BookingDetails from './store_pages/BookingDetails';\nimport { Alert, Spinner } from 'react-bootstrap';\nimport Advertisements from './store_pages/components/Advertisements';\nimport NonExistentRoute from './store_pages/NonExistentRoute';\nimport NonExistentStore from './store_pages/NonExistentStore';\n\n\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\";\nimport {config} from './firebase';\nimport useGetHostName from './store_pages/hooks/useGetHostName';\n\nconst { io } = require(\"socket.io-client\");\nconst axios = require('axios');\n\nvar providerName;\nlet db;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n  db = firebase.firestore();\n}else {\n  db = firebase.app().firestore() // if already initialized, use that one\n}\n\n\n\nconst port = process.env.PORT || 5000;\n\nfunction App() {\n  const [content, setContent] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const location = useLocation();\n  const [errorPage, setErrorPage] = useState(false)\n  const [noNav, setNoNav] = useState(false)\n  const [error, setError] = useState(false)\n  // const host_name = useGetHostName()\n  const [host_name, setHost_Name] = useState(null)\n\n\n\n  useEffect(() => {\n    if(firebase.auth().currentUser){\n      getSubdomain()\n    }else{\n      firebase.auth().signInAnonymously().then(()=>{\n        getSubdomain()\n      },()=>{\n        setError(true)\n      })\n    }\n    \n    \n\n  }, [])\n\n\n  function getSubdomain(){\n    // const subdomainString = window.location.hostname\n  \n      // console.log(\"user is: \" + JSON.stringify(user))\n      // console.log(\"email is: \" + user.email)\n      console.log(\"href url: \" + window.location.href)\n      console.log(\"document url: \" + document.URL)\n      const baseURL = new URL(document.URL)\n\n      console.log(\"hostname: \" + baseURL.hostname)\n      // const subdomainString = document.URL.replace('http://', '').replace(':5000','')\n      const subdomainString = baseURL.hostname\n      providerName = subdomainString.replace('.myservviio.com', '')\n      providerName = providerName.replace('.localhost', '')\n\n      if(content === null){\n        db.collection(\"serviceProviders\").doc(providerName)\n        .get().then((doc) => {\n                if (doc.exists) {\n                    // console.log(\"Store exists: \" + JSON.stringify(doc.data()))\n                    setContent({\"site_name\" : doc.id, \"service_content\":doc.data()})\n                    setIsPending(false)\n                } else {\n                    // console.log(\"No such provider!\");\n                    setErrorPage(true)\n                }\n        },(err)=>{\n          console.log(\"provider probably doesn't exist, error was: \" + err)\n        })\n      }\n    \n    \n\n\n  }\n  if(errorPage === true){\n    return(\n      <NonExistentStore/>\n    )\n  }else if(error){\n    <Alert variant='danger'>\n      Error occurred please contact help@servviio.com\n    </Alert>\n  }\n  else{\n\n    if((content === null) || (content === undefined) || (!content)){\n      return (\n        <Spinner animation=\"border\"/>\n      )\n    }\n    else{\n      return (\n        <>\n        <div className='landingPage'>\n\n          <div style={{\"padding\": \"40px\"}}>\n        \n            {(!noNav && location.pathname !== '/booking-request/details' && location.pathname !== '/conversations') && <Navigation serviceContent={content} />}\n    \n            {/* {((location.pathname !== \"/\") && (!noNav)) && \n              <div>\n                <Advertisements/>\n              </div>\n            } */}\n          </div>\n\n          <div>\n  \n          <Switch>\n  \n            <Route exact path=\"/\">\n            { !content && <Spinner/> }\n              {content && <HomePage serviceContent={content}/>}\n            </Route>\n  \n            <Route exact path=\"/services\">\n              <div>\n              { (!content) && <Spinner/> }\n                <Services serviceContent={content} />\n              </div>\n            </Route>\n  \n            <Route exact path=\"/send-me-a-booking-request\">\n            { (!content) && <Spinner/> }\n              {content && <BookingRequest serviceContent={content} />}\n            </Route>\n  \n            <Route exact path=\"/booking-request/details\">\n            { (!content) && <Spinner/> }\n              <BookingDetails />\n            </Route>\n  \n            <Route exact path=\"/gallery\">\n            { (!content) && <Spinner/> }\n              {content && <Gallery serviceContent={content} />}\n            </Route>\n  \n            <Route exact path=\"/send-me-a-message\">\n            { (!content) && <Spinner/> }\n              {content && <Messages serviceContent={content} />}\n            </Route>\n\n            {/* <Route exact path=\"/calendar\">\n            { (!content) && <Spinner/> }\n              {content && <Calendar serviceContent={content} />}\n            </Route> */}\n  \n            <Route exact path=\"/conversations\">\n            {/* { (!content) && <Spinner/> } */}\n              <Conversations />\n            </Route>\n  \n            <Route>\n              <NonExistentRoute/>\n            </Route>\n            \n          </Switch>\n          </div>\n        </div>\n        </>\n        \n      );\n    }\n  }\n\n  \n\n\n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}