{"version":3,"sources":["store_pages/BookingRequest.js","store_pages/404_error.js","store_pages/Gallery.js","store_pages/Services.js","store_components/Navigation.js","store_components/BackgroundImage.js","store_components/SecondaryNav.js","store_pages/Messages.js","store_pages/Calendar.js","firebase.js","App.js","reportWebVitals.js","index.js"],"names":["BookingRequest","serviceContent","className","require","io","process","PORT","Lost","axios","port","Gallery","bookings_events","useState","content","setContent","isPending","setIsPending","useEffect","datatosend","data","socket","connect","Promise","resolve","reject","on","info","disconnect","store_name","document","title","undefined","then","console","log","JSON","stringify","post","res","service_provider_name","Services","Navigation","topNavColour","service_content","page_styling","page_title","BackgroundImage","backgroundImage","frontPageTitle","frontPageTagline","description","SecondaryNav","db","secondaryNavColour","to","Calendar","app","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","apps","length","firestore","config","Messages","success","setSuccess","nameRef","useRef","messageRef","emailRef","e","a","preventDefault","nameSent","current","value","emailSent","messageSent","convoref","collection","doc","convorefID","id","set","add","Card","Body","Form","onSubmit","Group","Label","Control","type","ref","placeholder","required","Button","Alert","severity","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ca7ae68f.chunk.js","sourcesContent":["import \"../styles.css\";\n\nconst BookingRequest = ({ serviceContent }) => {\n    return (\n      <div className=\"service-content\">\n          <h1> Send booking request</h1>\n      </div>\n    );\n  }\n   \n  export default BookingRequest;","//import logo from './logo.svg';\nimport React, {useState} from 'react';\nconst { io } = require(\"socket.io-client\");\n\n\n\nconst port = process.env.PORT || 5000;\n\nfunction Lost() {\n  \n  \n  return (\n    <div className=\"Lost\">\n      <h1> The page you are looking for doesn't exist </h1>\n      <br></br>\n      <h2> Redirect to servviio.com if you like </h2>\n\n    </div>\n  );\n}\n\nexport default Lost;\n","import React, {useState, useEffect} from 'react';\nconst { io } = require(\"socket.io-client\");\nconst axios = require('axios');\n\nconst port = process.env.PORT || 5000;\n\nconst Gallery = ({ bookings_events }) => {\n\n  const [content, setContent] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n\n\n  useEffect(() => {\n    var data = {}\n    var datatosend;\n    const socket = io();\n    socket.connect(`http://localhost:${port}`);\n    \n    return new Promise((resolve, reject) =>{\n      socket.on(\"store_check\", (info)=>{\n        socket.disconnect();\n        //subdomain = domain.hostname\n        \n        data[\"store_name\"] = info.store_name\n        datatosend = data\n        \n        document.title = info.store_name;\n        if(datatosend !== undefined){\n          resolve(datatosend)\n        }\n        \n      })\n      \n    }).then(()=>{\n      console.log(\"data to send is: \" + JSON.stringify(datatosend))\n      axios.post(\"https://us-central1-dashtest-7cb07.cloudfunctions.net/getStoreContent\", datatosend)\n      .then(res => {\n        return res.data;\n      })\n      .then(data => {\n        setIsPending(false);\n        setContent(data);\n      })\n    })\n\n  }, [])\n\n    return (\n      <div className=\"Gallery\">\n          { isPending && <div>Loading...</div> }\n          {content && <h1> {content.service_provider_name}'s Gallery of images - React page </h1>}\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n      </div>\n    );\n  }\n   \n  export default Gallery;","import React, {useState, useEffect} from 'react';\nconst { io } = require(\"socket.io-client\");\nconst axios = require('axios');\n\nconst port = process.env.PORT || 5000;\n\nconst Services = ({ bookings_events }) => {\n\n  const [content, setContent] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n\n\n  useEffect(() => {\n    var data = {}\n    var datatosend;\n    const socket = io();\n    socket.connect(`http://localhost:${port}`);\n    \n    return new Promise((resolve, reject) =>{\n      socket.on(\"store_check\", (info)=>{\n        socket.disconnect();\n        //subdomain = domain.hostname\n        \n        data[\"store_name\"] = info.store_name\n        datatosend = data\n        \n        document.title = info.store_name;\n        if(datatosend !== undefined){\n          resolve(datatosend)\n        }\n        \n      })\n      \n    }).then(()=>{\n      console.log(\"data to send is: \" + JSON.stringify(datatosend))\n      axios.post(\"https://us-central1-dashtest-7cb07.cloudfunctions.net/getStoreContent\", datatosend)\n      .then(res => {\n        return res.data;\n      })\n      .then(data => {\n        setIsPending(false);\n        setContent(data);\n      })\n    })\n\n  }, [])\n\n    return (\n      <div className=\"Services\">\n          { isPending && <div>Loading...</div> }\n          {content && <h1> {content.service_provider_name}'s offered services - React page </h1>}\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n      </div>\n    );\n  }\n   \n  export default Services;","import React from 'react';\nimport '../App.css';\nimport { Link } from 'react-router-dom';\n\nfunction Navigation({ serviceContent }){\n\n  var topNavColour;\n\n  if(serviceContent.service_content.page_styling === \"choice_1\"){\n    topNavColour = \"nav-1\";\n}\nelse if(serviceContent.service_content.page_styling === \"choice_2\"){\n  topNavColour = \"nav-2\";\n    \n}\nelse{\n  topNavColour = \"nav-3\";\n}\n    return(\n      <>\n        <nav className={topNavColour}>\n          <h2> {serviceContent.service_content.page_title} </h2>\n          <ul className=\"nav-link\">\n            {/* <li>\n              <Link to=\"/\">\n                Home\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/services\">\n                Services\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/bookings\">\n                Bookings\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/gallery\">\n                Gallery\n              </Link>\n            </li> */}\n          </ul>\n        </nav>\n      </>\n    );\n}\n\nexport default Navigation\n","\n\nfunction BackgroundImage({ serviceContent }){\n    var backgroundImage;\n    var frontPageTitle;\n    var frontPageTagline;\n\n    console.log(\"service content:\" + JSON.stringify(serviceContent))\n\n    if(serviceContent.service_content.page_styling === \"choice_1\"){\n        backgroundImage = \"background-image-1\";\n        frontPageTitle = \"frontPageTitle-1\";\n        frontPageTagline = \"frontPageTagline-1\";\n    }\n    else if(serviceContent.service_content.page_styling === \"choice_2\"){\n        backgroundImage = \"background-image-2\";\n        frontPageTitle = \"frontPageTitle-2\";\n        frontPageTagline = \"frontPageTagline-2\";\n    }\n    else{\n        backgroundImage = \"background-image-3\";\n        frontPageTitle = \"frontPageTitle-3\";\n        frontPageTagline = \"frontPageTagline-3\";\n    }\n\n    return(\n        <div className={backgroundImage}>\n            {/* <h3 style={{color: \"white\", fontWeight:\"bold\"}}> Service Provider Name goes here and tagline </h3> */}\n            <h1 className={frontPageTitle}> {serviceContent.service_content.page_title}</h1>\n            <br></br>\n            <h3 className={frontPageTagline}> {serviceContent.service_content.description}</h3>\n        </div>\n        // <style>\n        //     body {\n        //         background-image: url('img_girl.jpg');\n        //         background-repeat: no-repeat;\n        //         background-attachment: fixed;\n        //         background-size: 100% 100%;\n        //     }\n\n        // </style>\n    )\n}\n\nexport default BackgroundImage","import React from 'react';\nimport '../App.css';\nimport { Link } from 'react-router-dom';\n\nfunction SecondaryNav({ serviceContent }){\n    \n    var secondaryNavColour;\n\n  if(serviceContent.service_content.page_styling === \"choice_1\"){\n    secondaryNavColour = \"nav-1a\";\n}\nelse if(serviceContent.service_content.page_styling === \"choice_2\"){\n    secondaryNavColour = \"nav-2a\";\n    \n}\nelse{\n    secondaryNavColour = \"nav-3a\";\n}\n\n    return(\n      <>\n        <nav className={secondaryNavColour}>\n          <ul className=\"nav-link\">\n            <li>\n              <Link to=\"/\">\n                View Services\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/calendar\">\n                View Availability\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/booking-request\">\n                Send Booking Request\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/gallery\">\n                Gallery\n              </Link>\n            </li>\n            <li>\n              <Link to=\"/messages\">\n                Send Message\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      </>\n    );\n}\n\nexport default SecondaryNav\n","import \"../styles.css\";\nimport React, { useRef, useState } from \"react\";\nimport { Form, Button, Card } from \"react-bootstrap\";\nimport Alert from '@mui/material/Alert';\n\nimport {app} from '../firebase';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\n\nimport config from '../firebase';\n\nlet db;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n  db = firebase.firestore();\n}else {\n  db = firebase.app().firestore() // if already initialized, use that one\n}\n\nfunction Messages ({ serviceContent }) {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [success, setSuccess] = useState(false)\n  const nameRef = useRef()\n  const messageRef = useRef()\n  const emailRef = useRef()\n  // const [serviceProviderData, setServiceProviderData] = useState(serviceContent);\n  // const [value, setValue] = useState()\n  // const onInput = ({target:{value}}) => setValue(value)\n \n \n  async function onFormSubmit (e){\n    e.preventDefault();\n    const nameSent = nameRef.current.value;\n    const emailSent = emailRef.current.value\n    const messageSent = messageRef.current.value\n    console.log(\"Name: \" + nameSent)\n    console.log(\"Email: \" + emailSent)\n    console.log(\"Message: \" + messageSent)\n    setSuccess(true)\n    try{\n      const convoref = db.collection('serviceProviders').doc(serviceContent.service_provider_name).collection('conversations').doc()\n      const convorefID = convoref.id\n      console.log(\"convorefID is: \" + convorefID)\n      await convoref.set({\"last_message_sent\": \"heyheyhey\"})\n      await db.collection('serviceProviders').doc(serviceContent.service_provider_name).collection('conversations').doc(convorefID).collection('messages').add({\"message\": messageSent, \"name\": nameSent, \"email\": emailSent})\n\n    }\n    catch(err){\n      console.log(\"error is: \" + err)\n    }\n}\n\n\n    return (\n      <>\n      <div>\n        <h2>Messages</h2> \n      </div>\n      <div>\n      {!success && \n      <Card>\n      <Card.Body>\n        <Form onSubmit={onFormSubmit}>\n          <Form.Group id=\"name\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control type=\"text\" ref={nameRef} placeholder=\"name\" required />\n          </Form.Group>\n\n          <Form.Group id=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control type=\"email\" ref={emailRef} placeholder=\"email\" required />\n          </Form.Group>\n          \n          <Form.Group id=\"message\">\n            <Form.Label>Message</Form.Label>\n            <Form.Control type=\"text\" ref={messageRef} placeholder=\"Type message\" required />\n          </Form.Group>\n          <Button type=\"submit\">Send Message</Button>\n        </Form>\n        </Card.Body>\n        </Card>}\n\n\n      {/* {success && <h2>Successfully sent</h2>} */}\n\n      {success && <Alert severity=\"success\">\n        Your message was successfully sent to {serviceContent.service_content.page_title}\n        <br/>\n        We will send you an email when {serviceContent.service_content.page_title} responds to your message.\n      </Alert> }  \n\n      </div>\n      </>\n      //\n      //start working on cloud function to send email to serviceProvider and to client\n\n      //on serviomain add firebase function code to retrieve messages and set notifications\n      //for each convo retrieve last message sent, whether unread by provider or not and all messages from convo\n    );\n  }\n   \n  export default Messages;","import React, {useState, useEffect} from 'react';\nconst { io } = require(\"socket.io-client\");\nconst axios = require('axios');\n\nconst port = process.env.PORT || 5000;\n\nconst Calendar = ({ bookings_events }) => {\n\n  const [content, setContent] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n\n\n  useEffect(() => {\n    var data = {}\n    var datatosend;\n    const socket = io();\n    socket.connect(`http://localhost:${port}`);\n    \n    return new Promise((resolve, reject) =>{\n      socket.on(\"store_check\", (info)=>{\n        socket.disconnect();\n        //subdomain = domain.hostname\n        \n        data[\"store_name\"] = info.store_name\n        datatosend = data\n        \n        document.title = info.store_name;\n        if(datatosend !== undefined){\n          resolve(datatosend)\n        }\n        \n      })\n      \n    }).then(()=>{\n      console.log(\"data to send is: \" + JSON.stringify(datatosend))\n      axios.post(\"https://us-central1-dashtest-7cb07.cloudfunctions.net/getStoreContent\", datatosend)\n      .then(res => {\n        return res.data;\n      })\n      .then(data => {\n        setIsPending(false);\n        setContent(data);\n      })\n    })\n\n  }, [])\n\n    return (\n      <div className=\"Calendar\">\n          { isPending && <div>Loading...</div> }\n          {content && <h1> {content.service_provider_name}'s calendar events - React page </h1>}\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n      </div>\n    );\n  }\n   \n  export default Calendar;","import firebase from \"firebase/compat/app\"\nimport \"firebase/compat/auth\"\n\nconst app = firebase.initializeApp({\n    apiKey: \"AIzaSyBw6gDwpt-ryvVo3x6-dIdhIoKFNB3FA5g\",\n    authDomain: \"dashtest-7cb07.firebaseapp.com\",\n    databaseURL: \"https://dashtest-7cb07.firebaseio.com\",\n    projectId: \"dashtest-7cb07\",\n    storageBucket: \"dashtest-7cb07.appspot.com\",\n    messagingSenderId: \"541191639978\",\n    appId: \"1:541191639978:web:77ba0cf5df3174468451d3\"\n})\n\nexport const config = {\n    apiKey: \"AIzaSyBw6gDwpt-ryvVo3x6-dIdhIoKFNB3FA5g\",\n    authDomain: \"dashtest-7cb07.firebaseapp.com\",\n    databaseURL: \"https://dashtest-7cb07.firebaseio.com\",\n    projectId: \"dashtest-7cb07\",\n    storageBucket: \"dashtest-7cb07.appspot.com\",\n    messagingSenderId: \"541191639978\",\n    appId: \"1:541191639978:web:77ba0cf5df3174468451d3\"\n}\n\nexport const auth = app.auth();\nexport default app","//import logo from './logo.svg';\nimport Home from './store_pages/BookingRequest'\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport Lost from './store_pages/404_error';\nimport './App.css';\nimport React, {useState, useEffect} from 'react';\nimport Gallery from './store_pages/Gallery';\nimport Services from './store_pages/Services';\nimport Navigation from './store_components/Navigation';\nimport BackgroundImage from './store_components/BackgroundImage';\nimport SecondaryNav from './store_components/SecondaryNav';\nimport Calendar from './store_pages/Calendar';\nimport BookingRequest from './store_pages/BookingRequest';\nimport Messages from './store_pages/Messages';\n\nconst { io } = require(\"socket.io-client\");\nconst axios = require('axios');\n\n\n\nconst port = process.env.PORT || 5000;\n\nfunction App() {\n\n  const [content, setContent] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n\n\n  useEffect(() => {\n    var data = {}\n    var datatosend;\n    const socket = io();\n    socket.connect(`http://localhost:${port}`);\n    \n    return new Promise((resolve, reject) =>{\n      socket.on(\"store_check\", (info)=>{\n        socket.disconnect();\n        //subdomain = domain.hostname\n        \n        data[\"store_name\"] = info.store_name\n        datatosend = data\n        \n        document.title = info.store_name;\n        if(datatosend !== undefined){\n          resolve(datatosend)\n        }\n        \n      })\n      \n    }).then(()=>{\n      console.log(\"data to send is: \" + JSON.stringify(datatosend))\n      axios.post(\"https://us-central1-dashtest-7cb07.cloudfunctions.net/getStoreContent\", datatosend)\n      .then(res => {\n        return res.data;\n      })\n      .then(data => {\n        setIsPending(false);\n        setContent(data);\n      })\n    })\n\n  }, [])\n\n\n  return (\n    <>\n      {content && <Navigation serviceContent={content} />}\n      {content && <BackgroundImage serviceContent={content}/> }\n      {content && <SecondaryNav serviceContent={content}/> }\n      <Switch>\n        <Route exact path=\"/\">\n          <div className=\"home\">\n            { isPending && <div>Loading...</div> }\n            {content && <Services serviceContent={content} />}\n          </div>\n        </Route>\n        <Route exact path=\"/new\">\n          <Lost />\n        </Route>\n        <Route exact path=\"/calendar\">\n          <Calendar />\n        </Route>\n        <Route exact path=\"/booking-request\">\n          <BookingRequest />\n        </Route>\n        <Route exact path=\"/gallery\">\n          <Gallery />\n        </Route>\n        <Route exact path=\"/messages\">\n          {content && <Messages serviceContent={content} />}\n        </Route>\n      </Switch>\n    </>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}