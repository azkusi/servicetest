{"version":3,"sources":["store_pages/hooks/useGetEvents.js","firebase.js","store_pages/hooks/useWindowSize.js","store_pages/BookingRequest.js","store_pages/NonExistentRoute.js","store_pages/hooks/useFirestore.js","store_pages/hooks/useServiceList.js","store_pages/components/ImageGrid.js","store_pages/components/Modal.js","store_pages/Gallery.js","store_pages/Services.js","store_components/Navigation.js","store_components/BackgroundImage.js","store_pages/Messages.js","store_pages/Calendar.js","store_pages/hooks/useGetConvo.js","store_pages/components/ReturnHome.js","store_pages/Conversation.js","store_pages/hooks/useGetBookingMessages.js","store_pages/hooks/useGetBookingDetails.js","store_pages/BookingDetails.js","store_pages/NonExistentStore.js","store_pages/hooks/useGetHostName.js","App.js","reportWebVitals.js","index.js"],"names":["db","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","apps","length","app","firestore","initializeApp","useGetEvents","providerName","useState","events","setEvents","useEffect","unsub","collection","doc","onSnapshot","querySnapshot","a","event_list","forEach","data","event_status","recurrence_type","push","id","event_start","event_end","event_start_datetimeISO","event_end_datetimeISO","event_notes","endTime","daysOfWeek","startTime","startRecur","endRecur","console","log","JSON","stringify","useWindowSize","width","window","innerWidth","height","innerHeight","windowSize","setWindowSize","changeWindowSize","addEventListener","removeEventListener","BookingRequest","serviceContent","success","setSuccess","nameRef","useRef","messageRef","emailRef","serviceRef","notesRef","provider_events","site_name","setOption","serviceObjectRequested","setServiceObjectRequested","offerred_services","service_content","services","initialView","Date","initialDate","date","setDate","bookingDate","setBookingDate","bookingDateSelected","setBookingDateSelected","service_requested","setService_Requested","useLocation","today","pathname","hash","key","useHistory","screenW","setScreenW","calendarRef","e","preventDefault","nameSent","current","value","emailSent","messageSent","serviceChosen","serviceNotes","alert","currentTime","now","bookingref","bookingrefID","toISOString","service_length","parseFloat","duration","addMlSeconds","getTime","set","then","add","bookingRequestNotifRef","get","booking_requests_notif_array","booking_requests_notifications","update","FieldValue","arrayUnion","i","service_name","style","Container","className","plugins","dayGridPlugin","interactionPlugin","listPlugin","timeGridPlugin","ref","customButtons","changeToMonthView","text","click","getApi","changeView","changeToWeekView","changeToTodayView","dateClick","dateStr","toDateString","view","type","document","getElementById","scrollIntoView","behavior","headerToolbar","center","left","right","views","timeGridDay","titleFormat","month","year","day","weekday","Card","Title","Body","Form","onSubmit","Group","Label","Control","placeholder","required","as","onChange","target","map","item","index","disableClock","Button","Alert","variant","page_title","require","io","process","PORT","NonExistentRoute","projectFirestore","serverTimestamp","useFirestore","provider_name","docs","setDocs","documents","gallery_images","ImageGrid","provider_Name","setSelectedImg","Spinner","animation","layout","whileHover","opacity","s","onClick","url","src","alt","initial","animate","transition","delay","Modal","selectedImg","motion","div","classList","contains","img","y","Gallery","useServiceList","setServices","servicesFB","serviceCategoriesFB","Promise","resolve","reject","service_categories","result","j","serviceHolder","servicesArray","serviceSubCategories","serviceCategories","servicesB","main_category","toString","Services","Header","Object","keys","ListGroup","values","service","Item","Subtitle","price","Text","description","Navigation","page_theme","theme_name","Navbar","themes","colors","background","textDecoration","to","Toggle","Collapse","Nav","NavDropdown","title","align","href","Dropdown","Divider","BackgroundImage","imgUrl","page_background_image","text_colour","title_tagline_colour","hex_code","tagline","Messages","convoref","convorefID","msgNotifRef","msg_notif_array","msgs_notifications","useGetConvo","messages","setMessages","search","searcher","URLSearchParams","has","conversationID","orderBy","messageList","snapshot","messageID","message_sent_by","message","timestamp","ReturnHome","history","Conversations","match","location","msgStyling","messageRefFB","convoRef","inline","useGetBookingMessages","bookingRefID","useGetBookingDetails","bookingDetails","setBookingDetails","bookingID","BookingDetails","bookingdetails","bookingRef","client_name","service_notes","disabled","NonExistentStore","App","content","setContent","setIsPending","errorPage","setErrorPage","noNav","error","setError","getSubdomain","URL","baseURL","hostname","subdomainString","replace","exists","err","auth","currentUser","signInAnonymously","undefined","exact","path","Conversation","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.24ce6286.chunk.js","sourcesContent":["//==================================================================\n//            CALENDAR EVETNS RETRIEVAL HOOK\n//------------------------------------------------------------------\n//   Hook searches for the events relating to this service provider\n// in firestore, using the providerName prop passed to it \n// to enable to help search firestore for the correct events\n//==================================================================\n\n\n\nimport { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    firebase.initializeApp(config);\n    db = firebase.firestore()\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n  \n\n\n\nconst useGetEvents = (providerName) => {\n  const [events, setEvents] = useState([]);\n\n  \n\n//   useEffect(() => {\n\n    useEffect(()=>{\n        \n        const unsub =  db.collection('serviceProviders').doc(providerName).collection('events')\n        .onSnapshot(async (querySnapshot)=>{\n            let event_list = []\n            querySnapshot.forEach((doc)=>{\n                if(doc.data().event_status === \"DEFINITE\"){\n                    if(doc.data().recurrence_type === \"none\"){\n                        event_list.push({\n                                    \"id\": doc.id,\n                                    \"title\": \"UNAVAILABLE\", \n                                    \"start\": doc.data().event_start, \n                                    \"end\": doc.data().event_end,\n                                    \"startStr\": doc.data().event_start_datetimeISO, \n                                    \"endStr\": doc.data().event_end_datetimeISO,\n                                    \"notes\": doc.data().event_notes,\n                                    \"recurrence_type\": \"none\"\n                                })\n                    }else{\n                        if(doc.data().endTime === null){\n                            //omit end time from object\n                            event_list.push({\n                                    \"id\": doc.id,\n                                    \"title\": \"UNAVAILABLE\", \n                                    \"notes\": doc.data().event_notes,\n                                    \"daysOfWeek\": doc.data().daysOfWeek,\n                                    \"startTime\": doc.data().startTime,\n                                    \"endTime\": doc.data().endTime,\n                                    \"startRecur\": doc.data().startRecur,\n                                    \"recurrence_type\": \"simple_recurrence\"\n                                })\n                        }else{\n                            event_list.push({\n                                    \"id\": doc.id,\n                                    \"title\": \"UNAVAILABLE\", \n                                    \"notes\": doc.data().event_notes,\n                                    \"daysOfWeek\": doc.data().daysOfWeek,\n                                    \"startRecur\": doc.data().startRecur,\n                                    \"endRecur\": doc.data().endRecur,\n                                    \"startTime\": doc.data().startTime,\n                                    \"endTime\": doc.data().endTime,\n                                    \"recurrence_type\": \"simple_recurrence\"\n                                })\n                        }\n                        \n                    }\n                }\n                \n                \n            })\n            setEvents(event_list)\n            \n        })\n        // , ()=>{\n        //     console.log(\"not resetting events_list\")\n        //     setEvents(\"DN_EXIST\")\n        // })\n        return () => unsub();\n\n    }, [])\n    console.log(\"events: \" + JSON.stringify(events))\n\n    return events\n}\n\nexport default useGetEvents;","import firebase from \"firebase/compat/app\"\nimport \"firebase/compat/auth\"\n\n\n// const app = firebase.initializeApp({\n//     apiKey: \"AIzaSyBA8Oj4PDbc826IzdhGDDU579yJ2pL3N9o\",\n//     authDomain: \"serviiotest.firebaseapp.com\",\n//     projectId: \"serviiotest\",\n//     storageBucket: \"serviiotest.appspot.com\",\n//     messagingSenderId: \"199172448030\",\n//     appId: \"1:199172448030:web:c83109d3e1e9101e3ff30f\",\n//     measurementId: \"G-QL4CWBDQQJ\"\n// })\n\nexport const config = {\n    apiKey: \"AIzaSyBA8Oj4PDbc826IzdhGDDU579yJ2pL3N9o\",\n    authDomain: \"serviiotest.firebaseapp.com\",\n    projectId: \"serviiotest\",\n    storageBucket: \"serviiotest.appspot.com\",\n    messagingSenderId: \"199172448030\",\n    appId: \"1:199172448030:web:c83109d3e1e9101e3ff30f\",\n    measurementId: \"G-QL4CWBDQQJ\"\n}\n\n// export const auth = app.auth();\nexport default config","import React, {useState, useEffect} from \"react\";\n\nexport default function useWindowSize() {\n    const isSSR = typeof window !== \"undefined\";\n    const [windowSize, setWindowSize] = useState({\n        width: window.innerWidth,\n        height: window.innerHeight,\n    });\n\n    function changeWindowSize() {\n        setWindowSize({ width: window.innerWidth, height: window.innerHeight });\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"resize\", changeWindowSize);\n        changeWindowSize()\n        return () => {\n            window.removeEventListener(\"resize\", changeWindowSize);\n        };\n    }, []);\n\n    return windowSize;\n\n}\n","//=========================================================================\n//              CLIENT PAGE FOR INITIATING BOOKING REQUEST \n//=========================================================================\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Alert, Form, Button, Card, Container } from \"react-bootstrap\";\n\nimport FullCalendar from '@fullcalendar/react'; // must go before plugins\nimport dayGridPlugin from '@fullcalendar/daygrid'; // a plugin!\nimport interactionPlugin from \"@fullcalendar/interaction\"; // needed for dayClick\nimport listPlugin from '@fullcalendar/list';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport useGetEvents from './hooks/useGetEvents';\nimport DateTimePicker from '../../node_modules/react-datetime-picker'\n\nimport useWindowSize from './hooks/useWindowSize';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\n\nimport config from '../firebase';\n\nlet db;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n  db = firebase.firestore();\n}else {\n  db = firebase.app().firestore() // if already initialized, use that one\n}\n\nfunction BookingRequest ({ serviceContent }) {\n  const [success, setSuccess] = useState(null)\n  const nameRef = useRef()\n  const messageRef = useRef()\n  const emailRef = useRef()\n  const serviceRef = useRef()\n  const notesRef = useRef()\n  const provider_events = useGetEvents(serviceContent.site_name)\n\n  const [option, setOption] = useState(null)\n\n  const [serviceObjectRequested,setServiceObjectRequested] = useState(null)\n\n  const offerred_services = serviceContent.service_content.services\n  const [initialView, setInitialView] = useState(\"timeGridWeek\")\n  const [initialDate, setInitialDate] = useState(new Date())\n  const [date, setDate] = useState(new Date());\n  const [bookingDate, setBookingDate] = useState(new Date())\n  const [bookingDateSelected, setBookingDateSelected] = useState(null)\n  const [service_requested, setService_Requested] = useState(\"\");\n  const { pathname, hash, key } = useLocation();\n  const history = useHistory()\n\n  const today = new Date()\n\n  const {width, height} = useWindowSize()\n  const [screenW, setScreenW] = useState(0.8)\n  const calendarRef = useRef()\n\n  // useEffect(() => {\n  //   // if not a hash link, scroll to top\n  //   console.log(\"pathname is: \" + pathname)\n  //   if (hash === '') {\n  //     window.scrollTo(0, 0);\n  //   }\n  //   // else scroll to id\n  //   else {\n  //     setTimeout(() => {\n  //       const id = hash.replace('#', '');\n  //       const element = document.getElementById(id);\n  //       if (element) {\n  //         element.scrollIntoView({behavior: \"smooth\"});\n  //       }\n  //     }, 0);\n  //   }\n  // }, [pathname, hash, key]); // do this on route change\n  \n\n\n  useEffect(()=>{\n    console.log(\"services: \" + JSON.stringify(serviceContent.service_content.services))\n    var i = 0;\n    if(offerred_services){\n      console.log(\"running if in useEffect\")\n      for(i=0; i< offerred_services.length; i++){\n          if(offerred_services[i].service_name === service_requested){\n              setServiceObjectRequested(offerred_services[i])\n          }\n      }  \n  }\n\n  if(width < 700){\n    if(width < 500){\n      setScreenW(0.96)\n    }else{\n      setScreenW(0.8)\n    }\n    \n  }else{\n    setScreenW(0.6)\n  }\n    \n}, [service_requested, width])\n \n \n  async function onFormSubmit (e){\n    e.preventDefault();\n    const nameSent = nameRef.current.value;\n    const emailSent = emailRef.current.value\n    const messageSent = messageRef.current.value\n    const serviceChosen = serviceRef.current.value\n    const serviceNotes = notesRef.current.value\n    console.log(\"Name: \" + nameSent)\n    console.log(\"Email: \" + emailSent)\n    console.log(\"Message: \" + messageSent)\n    \n    try{\n      console.log(\"service_requested is: \" + service_requested)\n      console.log(\"offered services are: \" + JSON.stringify(serviceObjectRequested))\n      if(bookingDateSelected === null){\n        alert(\"Please select a date\")\n        return null\n      }else{\n        if(service_requested === null || service_requested === \"\"){\n          alert('Please select a service')\n          return null;\n        }\n        console.log(\"serviceRequested object: \" + JSON.stringify(serviceObjectRequested))\n        const currentTime = Date.now()\n        const bookingref = db.collection('serviceProviders').doc(serviceContent.site_name).collection('bookingrequests').doc()\n        const bookingrefID = bookingref.id\n\n        const startTime = new Date(bookingDate.toISOString())\n        let service_length = parseFloat(serviceObjectRequested.duration);\n        var addMlSeconds = 60 * 60 * 1000 * service_length;\n        const endTime = new Date(startTime.getTime() + addMlSeconds)\n\n        console.log(\"service length is: \" + service_length)\n        bookingref.set({\n          \"last_message_sent\": messageSent, \"last_message_sent_by\": \"client\", \n          \"client_name\": nameSent, \"client_email\": emailSent, \n          \"service_requested\" : serviceChosen, \"service_notes\": serviceNotes, \n          \"timestamp\": currentTime, \"booking_status\": \"pending\", \n          \"provider_read_status\": \"unread\",\n          \"startTime\": bookingDate.toISOString(), \"endTime\": endTime.toISOString()\n        }).then(()=>{\n          db.collection('serviceProviders').doc(serviceContent.site_name).collection('bookingrequests').doc(bookingrefID).collection('messages')\n          .add({\"message\": messageSent, \"client_name\": nameSent, \n                \"client_email\": emailSent, \"message_sent_by\": \"client\", \n                \"timestamp\": currentTime, \"provider_read_status\": \"unread\"\n              }).then(()=>{\n                messageRef.current.value = ''\n                setSuccess(true)\n                return null\n              })\n          \n        })\n        // get booking_request_notifications array, push new notification and bookingrequest docID the notification came from not the messages docID\n        \n        const bookingRequestNotifRef = db.collection('serviceProviders').doc(serviceContent.site_name)\n        bookingRequestNotifRef.get().then(async (doc)=>{\n          let booking_requests_notif_array = doc.data().booking_requests_notifications\n          let temp_booking_notif_array = booking_requests_notif_array.push(bookingrefID)\n          await bookingRequestNotifRef.update({\"booking_requests_notifications\" : firebase.firestore.FieldValue.arrayUnion(...booking_requests_notif_array)}) \n        })\n      }\n            \n    }\n    catch(err){\n      console.log(\"error is: \" + err)\n      setSuccess(false)\n    }\n}\n\nif(success === null){\n  return (\n    <>\n      <div>\n        <h1 style={{\"textAlign\": \"center\"}}>Send a Booking Request</h1> \n      </div>\n      <br/>\n      <br/>\n      {/* ${screenW*width}px */}\n\n      <Container className=\"justify-content-center\" style={{\"width\": `${screenW*width}px`, \"height\": `0.5*${height}px`}}>\n        <FullCalendar\n              plugins={[ dayGridPlugin, interactionPlugin, listPlugin, timeGridPlugin ]}\n              initialView={initialView}\n              events={provider_events}\n              initialDate={initialDate}\n              ref={calendarRef}\n              customButtons={\n                {\n                  changeToMonthView: {\n                    text: \"Month\",\n                    click: function () {\n                      calendarRef.current.getApi().changeView(\"dayGridMonth\", date.date);\n                    }\n                  }, changeToWeekView: {\n                    text: \"Week\",\n                    click: function(){\n                      calendarRef.current.getApi().changeView(\"timeGridWeek\", date.date);\n                      }\n                    },\n                    changeToTodayView: {\n                      text: \"Today\",\n                      click: function(){\n                        calendarRef.current.getApi().changeView(\"timeGridDay\", today);\n                        }\n                      }\n                    \n                }\n            }\n              dateClick={(date)=>{\n                console.log(\"Full Calendar API date is: \" + date.date + \" type is: \" + typeof(date.date))\n                console.log(\"date.dateStr is: \" + date.dateStr + \" type is: \" + typeof(date.dateStr))\n                console.log(\"date.date is: \" + date.date.toDateString())     \n                setDate(date.date)\n                if(calendarRef.current.getApi().view.type === \"timeGridDay\"){\n                  const elementToScrollTo = document.getElementById('sendBookingRequest')\n                  elementToScrollTo.scrollIntoView({behavior: \"smooth\"})\n                  // history.push('#sendBookingRequest')\n                }else{\n                  calendarRef.current.getApi().changeView(\"timeGridDay\", date.date);\n                }\n                //console.log(\"current view is: \" + JSON.stringify(calendarRef.current.getApi().view))\n            }}\n\n            \n            headerToolbar={{\n              center: \"title\",\n              left: \"changeToTodayView,changeToWeekView,changeToMonthView prev,next\",\n              right: \"\"\n            \n            }}\n\n            views={{\n              timeGridDay:{\n                titleFormat:{\n                  month: 'short',\n                  year: 'numeric',\n                  day: 'numeric',\n                  weekday: 'short'\n                }\n              }\n              \n            }}\n          />\n      </Container>\n      <br/>\n      <br/>\n      <Container className=\"justify-content-center\" style={{\"maxWidth\": `${screenW*width}px`}}>\n      <Card>\n        <Card.Title>\n          Send Booking Request\n        </Card.Title>\n      <Card.Body>\n        <Form id=\"sendBookingRequest\" onSubmit={onFormSubmit}>\n          <Form.Group id=\"name\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control type=\"text\" ref={nameRef} placeholder=\"Name\" required />\n          </Form.Group>\n\n          <Form.Group id=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control type=\"email\" ref={emailRef} placeholder=\"Email\" required />\n          </Form.Group>\n\n          <Form.Label>Select Service</Form.Label>\n          <Form.Control\n           aria-label=\"Select Service\"\n           as=\"select\"\n            value={service_requested}\n            onChange={e => {\n              console.log(\"e.target.value\", e.target.value);\n              setOption(e)\n              setService_Requested(e.target.value)\n            }\n          }\n           >\n          <option ref={serviceRef} value=\"\"></option>\n          {offerred_services.map((item, index)=>{\n            return(\n              <option ref={serviceRef} value={item.service_name}>{item.service_name}</option>\n            )\n            \n          })}\n          </Form.Control>\n\n          \n          <Form.Group id=\"notes\">\n            <Form.Label>Extra Notes</Form.Label>\n            <Form.Control type=\"text\" ref={notesRef} placeholder=\"Type message\" />\n          </Form.Group>\n\n          <br/>\n\n          <DateTimePicker\n            onChange={(value)=>{\n              setBookingDate(value)\n              setBookingDateSelected(true)}}\n            value={bookingDate}\n            disableClock={true}\n          />\n\n          <br/>\n          \n          <Form.Group id=\"message\">\n            <Form.Label>Message</Form.Label>\n            <Form.Control type=\"text\" ref={messageRef} placeholder=\"Type message\" />\n          </Form.Group>\n          <br/>\n          <Button type=\"submit\">Submit Booking Request</Button>\n\n        </Form>\n        </Card.Body>\n        </Card>\n      </Container>\n      </>\n      //\n      //start working on cloud function to send email to serviceProvider and to client\n\n      //on serviomain add firebase function code to retrieve messages and set notifications\n      //for each convo retrieve last message sent, whether unread by provider or not and all messages from convo\n\n  )\n}\nelse{\n  return (\n    <div>\n      {/* {success && <h2>Successfully sent</h2>} */}\n\n      {success ? <Alert variant=\"success\">\n        Your message was successfully sent to {serviceContent.service_content.page_title}\n        <br/>\n        We will send you an email when {serviceContent.service_content.page_title} responds to your message.\n      </Alert> :\n       <Alert variant=\"danger\">\n       Error occurred, please contact support at support@servviio.com\n       <br/>\n     </Alert>} \n    </div>\n    );\n}\n    \n  }\n   \n  export default BookingRequest;","//import logo from './logo.svg';\nimport React, {useState} from 'react';\nconst { io } = require(\"socket.io-client\");\n\n\n\nconst port = process.env.PORT || 5000;\n\nfunction NonExistentRoute() {\n  \n  \n  return (\n    <div className=\"Lost\">\n      <h1> The page you are looking for doesn't exist </h1>\n      <br></br>\n      <h2> Use navigation bar above to navigate to existing pages </h2>\n\n    </div>\n  );\n}\n\nexport default NonExistentRoute;\n","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {auth, config} from '../../firebase';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nlet projectFirestore;\nlet timestamp;\nlet admin_data;\n\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n    projectFirestore = firebase.firestore();\n    timestamp = firebase.firestore.FieldValue.serverTimestamp;\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n    projectFirestore = firebase.app().firestore();\n    timestamp = firebase.firestore.FieldValue.serverTimestamp;\n\n  }\n\nconst useFirestore = (provider_name) => {\n  const [docs, setDocs] = useState([]);\n  \n\n  useEffect(() => {\n    \n    const unsub = projectFirestore.collection(\"serviceProviders\").doc(provider_name)\n    .onSnapshot(doc => {\n        let documents;\n        documents = doc.data().gallery_images;\n        setDocs(documents);\n    });\n    return () => unsub();\n    \n  }, [provider_name]);\n\n  \n\n  return { docs };\n}\n\nexport default useFirestore;","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n\n\n  }\n\nconst useServiceList = (providerName) => {\n//   const [services, setServices] = useState([]);\n//   const [categories, setCategories] = useState([]);\n    console.log(\"admin_data in useServicList: \" + providerName)\n    const [services, setServices] = useState(null)\n    console.log(\"serviceList render ran again...\")\n  \n\n//   useEffect(() => {\n\n    useEffect(()=>{\n        const unsub =  db.collection(\"serviceProviders\").doc(providerName)\n        .onSnapshot((doc) => {\n            let servicesFB;\n            let serviceCategoriesFB\n            return new Promise((resolve, reject)=>{\n                servicesFB = doc.data().services  \n                serviceCategoriesFB = doc.data().service_categories       \n                console.log(\"useEffect serviceList ran again...\")\n                resolve({\"services\": servicesFB, \"serviceCategories\": serviceCategoriesFB})\n            }).then(async (result)=>{\n                return new Promise((resolve, reject)=>{\n                    let servicesArray = [];\n                    let serviceSubCategories = result.services\n                    let serviceCategories = result.serviceCategories\n\n                    \n                    var i;\n                    var j;\n                    var serviceHolder;\n                    if(serviceSubCategories && serviceCategories){\n                        if(serviceCategories.length === 0){\n                            resolve(\"NO_SERVICES\")\n                        }else{\n\n                            console.log(\"services and categories set\")\n                            for(i=0; i < serviceCategories.length; i++){\n                                //set key in services object i.e. {main categoryM: \"\"}\n                                var servicesB = {}\n                                serviceHolder = []\n                                for(j=0; j < serviceSubCategories.length; j++){\n                                    console.log(\"service category: \" + serviceCategories[i] + \" service name: \" + JSON.stringify(serviceSubCategories[j]))\n                                    if (serviceSubCategories[j].main_category === serviceCategories[i].toString()){\n                                        serviceHolder.push(serviceSubCategories[j])\n                                    }\n                                    if(j === serviceSubCategories.length -1){\n                                        //i.e. {maincategory1 : [subcategory1, subcategory2...subcategoryN]..., maincategoryM: []}\n                                        servicesB[ serviceCategories[i] ] = serviceHolder\n                                        servicesArray.push(servicesB)\n                                    }\n                                }\n                                if(i === serviceCategories.length - 1){\n                                    console.log(\"Services inside loop: \" + JSON.stringify(servicesB))\n                                    console.log(\"ServiceReady has been set to true\")\n                                    // setServices(servicesB)\n                                    // setServicesReady(true)\n                                    resolve(servicesArray)\n                                }\n                                \n                            }\n                        }\n                    }\n                        console.log(\"numbers is about to change/cause rerender...\")\n                        // setNumber((value + 10));\n                })\n            }).then((result)=>{\n                setServices(result)\n            })\n                \n\n        });\n    return () => unsub();\n}, [])\n\n\n    // const unsub =  db.collection(\"serviceProviders\").where(\"email\", \"==\", provider_email)\n    // .onSnapshot(doc => {\n    //     let servicesList;\n    //     let categoryList;\n\n    //     servicesList = doc.data().services;\n    //     categoryList = doc.data().services;\n\n    //     setServices(servicesList);              \n    //     setCategories(categoryList);\n    //     console.log(\"serviceList subscription ran...\")\n    // });\n    // return () => unsub();\n        \n    \n\n    \n    // this is a cleanup function that react will run when\n    // a component using the hook unmounts\n//   }, []);\n\n  \n\n  return services\n}\n\nexport default useServiceList;","import React from 'react';\nimport useFirestore from '../hooks/useFirestore';\nimport { motion } from 'framer-motion';\nimport { Spinner } from 'react-bootstrap';\n\nconst ImageGrid = ({ provider_Name, setSelectedImg }) => {\n\n\n  const { docs } = useFirestore(provider_Name);\n\n  return (\n    <div className=\"img-grid\">\n      {!docs && <Spinner animation=\"border\"/>}\n      {docs && docs.map((doc, index) => (\n        <div className=\"img-wrap\" key={index} \n          layout\n          whileHover={{ opacity: 1 }}s\n          onClick={() => setSelectedImg(doc.url)}\n        >\n          <img src={doc.url} alt=\"uploaded pic\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 1 }}\n          />\n        </div>\n      ))}\n    </div>\n  )\n}\n\nexport default ImageGrid;","import React from 'react';\nimport { motion } from 'framer-motion';\n\nconst Modal = ({ setSelectedImg, selectedImg }) => {\n\n  const handleClick = (e) => {\n    if (e.target.classList.contains('backdrop')) {\n      setSelectedImg(null);\n    }\n  }\n\n  return (\n    <motion.div className=\"backdrop\" onClick={handleClick}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <motion.img src={selectedImg} alt=\"enlarged pic\" \n        initial={{ y: \"-100vh\" }}\n        animate={{ y: 0 }}\n      />\n    </motion.div>\n  )\n}\n\nexport default Modal;","import React, { useState, useRef, useEffect } from \"react\";\n\nimport {config} from '../firebase';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\n\n\nimport ImageGrid from './components/ImageGrid';\nimport Modal from './components/Modal';\nimport { Spinner } from \"react-bootstrap\";\n\nlet db;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n  db = firebase.firestore();\n}else {\n  db = firebase.app().firestore() // if already initialized, use that one\n}\n\n\nexport default function Gallery({serviceContent}) {\n \n    const [selectedImg, setSelectedImg] = useState(null);\n    // const [providerName, setProviderName] = useState(null)\n    const providerName = serviceContent.site_name\n\n\n\n    // useEffect(()=>{\n        \n\n    // }, [])\n\n    if(providerName === null){\n        return(\n          <Spinner animation=\"border\"/>\n        )\n    }else{\n        return (\n          <>\n          <h1> Gallery </h1>\n          {(serviceContent.service_content.gallery_images.length === 0) ? \n            <h2>No Images Added Yet</h2>\n            :\n            <div className=\"Gallery\">\n              \n\n              \n\n              {providerName && <ImageGrid provider_Name={providerName} setSelectedImg={setSelectedImg} />}\n              { selectedImg && (\n                <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg} />\n              )}\n            </div>\n          }\n          </>\n          );\n\n    }\n\n\n  \n\n}","import React, { useEffect, useState, useRef} from 'react';\nimport { Link } from 'react-router-dom';\n\nimport useServiceList from './hooks/useServiceList'\n\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport {config} from '../firebase';\nimport { Card, Button, Alert, Spinner, ListGroup, Modal, Form } from \"react-bootstrap\";\n\n\n\nlet db;\n  var store_name;\n  var loaded;\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n    db = firebase.firestore();\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n\n\nfunction Services({ serviceContent }){\n    console.log(\"Calendar rerendered\")\n    console.log(\"admin_data in Calendar: \" + serviceContent.site_name)\n    const services = useServiceList(serviceContent.site_name)\n\n    \n    if(serviceContent.service_content.service_categories.length !== 0){\n        if(services === null){\n            return(\n                <>\n                    <Spinner animation=\"border\" />\n                </>\n                \n            )\n        }\n        else{\n            return(\n        \n                <>\n                    <h1>Services</h1>\n                    <div>\n                        {/* {console.log(\"\" + JSON.stringify(services))} */}\n                        {services.map((item, index)=>{\n                            return(\n                                <>\n                                <Card>\n                                    {/* <Card.Img> </Card.Img> */}\n                                    <Card.Header>\n                                        {Object.keys(item)[0]} \n                                        <br/>\n                                        \n                                    </Card.Header>\n                                    \n                                    <ListGroup variant=\"flush\">\n                                        {Object.values(item)[0].map((service, i) =>{\n                                            return(\n                                                <>\n                                                <Card>\n                                                    {/* <Button onClick={deleteService(item.service_name)}> Delete Service </Button> */}\n                                                <ListGroup.Item>\n                                                    \n                                                    <Card.Title> \n                                                        {service.service_name}\n                                                        <br/>\n                                                    </Card.Title>\n                                    \n                                                        <br/>\n                                                    <Card.Subtitle> \n                                                        Price: £{service.price}\n                                                    </Card.Subtitle>\n                                                    <br/>\n                                                    <Card.Subtitle>\n                                                    Duration: {service.duration} hour(s)\n                                                    </Card.Subtitle>\n                                                \n                                                    <br/>\n                                                    <Card.Text>\n                                                        {service.description}\n                                                    </Card.Text>\n                                                    </ListGroup.Item>\n                                                \n                                                </Card>\n                                                <br/>\n                                                </>\n                                            )\n                                        })}\n                                    </ListGroup>\n                                </Card>\n                                <br/>\n                                <br/>\n                                </>\n                            )\n                            \n                        })}\n                        \n                    </div>\n                </>\n                );\n        }\n    \n    }\n    else{\n        return(\n            <h2>No Services Added Yet</h2>\n        )\n    }\n\n    \n\n        \n    }\n\nexport default Services\n","import React, {useEffect, useState} from 'react';\nimport '../App.css';\nimport { Link } from 'react-router-dom';\nimport * as themes from '../themes.json';\nimport useWindowSize from '../store_pages/hooks/useWindowSize';\nimport {Dropdown, DropdownButton, Navbar, Nav, NavDropdown} from 'react-bootstrap';\n\nfunction Navigation({ serviceContent }){\n  const [screenW, setScreenW] = useState(375)\n  const {width, height} = useWindowSize()\n  const page_theme = serviceContent.service_content.page_theme.theme_name\n\n  useEffect(()=>{\n    setScreenW(width)\n  }, [width, height])\n\n  if(screenW < 1024){\n    return(\n      <>\n        <Navbar className='topnav' style={{\"background-color\": themes.themes[page_theme].colors.background, \"height\": \"15vh\"}}>\n          <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/\">\n            <div>\n                <h1>{serviceContent.service_content.page_title}</h1>\n            </div>\n          </Link>\n          <Navbar.Toggle aria-controls=\"navbar-dark-example\" />\n          <Navbar.Collapse style={{\"z-index\": \"20\"}} id=\"navbar-dark-example\">\n            <Nav className='topnav-right'>\n              <NavDropdown\n              id=\"nav-dropdown-dark-example\"\n              title={\n                <span style={{\"color\": themes.themes[page_theme].colors.text}}>Menu</span>\n              }\n              align=\"end\"\n              >\n                {/* <DropdownButton id=\"menu\" title=\"Menu\"> */}\n                <NavDropdown.Item style={{\"color\": \"black\"}} href=\"/services\">Services</NavDropdown.Item>\n                <Dropdown.Divider/>\n                <NavDropdown.Item style={{\"color\": \"black\"}} href=\"/send-me-a-booking-request\">Send Booking Request</NavDropdown.Item>\n                <Dropdown.Divider/>\n                <NavDropdown.Item style={{\"color\": \"black\"}} href=\"/send-me-a-message\">Send Message</NavDropdown.Item>\n                <Dropdown.Divider/>\n                <NavDropdown.Item style={{\"color\": \"black\"}} href=\"/gallery\">Gallery</NavDropdown.Item>\n                {/* </DropdownButton> */}\n              </NavDropdown>\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n      </>\n    );\n  }\n  else{\n    return(\n      <>\n        <div className='topnav' style={{\"background-color\": themes.themes[page_theme].colors.background, \"height\": \"15vh\"}}>\n          <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/\">\n          <div>\n              <h1>{serviceContent.service_content.page_title}</h1>\n          </div>\n          </Link>\n          <div className='topnav-right'>\n          {/* <li style={{\"padding-left\": \"15px\", \"padding-right\": \"15px\", \"listStyle\": \"none\"}}> */}\n              <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/services\">\n                Service Info & Pricing\n              </Link>\n            {/* </li> */}\n            {/* <li style={{\"padding-left\": \"15px\", \"padding-right\": \"15px\", \"listStyle\": \"none\"}}> */}\n              <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/send-me-a-booking-request\">\n                  Availability & Booking\n              </Link>\n            {/* </li> */}\n            {/* <li style={{\"padding-left\": \"15px\", \"padding-right\": \"15px\", \"listStyle\": \"none\"}}> */}\n            {/* </li> */}\n            {/* <li style={{\"padding-left\": \"15px\", \"padding-right\": \"15px\", \"listStyle\": \"none\"}}> */}\n              <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/send-me-a-message\">\n                  Send Message\n              </Link>\n            {/* </li> */}\n            <Link style={{ textDecoration: 'none', \"color\": themes.themes[page_theme].colors.text, \"font-weight\": \"bold\" }} to=\"/gallery\">\n                  Gallery              \n            </Link>\n          </div>\n        </div>\n      </>\n    );\n  }\n    \n}\n\nexport default Navigation\n","\n\nfunction BackgroundImage({ serviceContent }){\n    var backgroundImage;\n    var frontPageTitle;\n    var frontPageTagline;\n\n    const imgUrl = serviceContent.service_content.page_background_image.url\n    const text_colour = serviceContent.service_content.title_tagline_colour.hex_code\n\n\n    console.log(\"background image URL:\" + imgUrl)\n\n    // if(serviceContent.service_content.page_styling === \"choice_1\"){\n    //     backgroundImage = \"background-image-1\";\n    //     frontPageTitle = \"frontPageTitle-1\";\n    //     frontPageTagline = \"frontPageTagline-1\";\n    // }\n    // else if(serviceContent.service_content.page_styling === \"choice_2\"){\n    //     backgroundImage = \"background-image-2\";\n    //     frontPageTitle = \"frontPageTitle-2\";\n    //     frontPageTagline = \"frontPageTagline-2\";\n    // }\n    // else{\n    //     backgroundImage = \"background-image-3\";\n    //     frontPageTitle = \"frontPageTitle-3\";\n    //     frontPageTagline = \"frontPageTagline-3\";\n    // }\n    \n\n    return(\n        \n        <div style={{\"textAlign\": \"center\"}}>\n        <div style={{\"background-image\": `url(${imgUrl})`,\n        \"background-repeat\": \"no-repeat\", \"background-attachment\": \"fixed\", \"background-size\": \"100% 100%\",   \n        \"min-height\": \"85%\", \"max-height\": \"85%\", \"opacity\": \"0.4\", \"min-width\": \"1024px\", \"width\": \"100%\",\n        \"height\": \"auto\", \"position\": \"fixed\",\n        \"bottom\": \"0\",\"left\": \"0\"}}>\n        </div>\n        <h1 style={{\"font-weight\": \"bold\", \"color\": text_colour, \"position\": \"absolute\", \"top\": \"50%\", \"left\": \"20%\", \"z-index\": \"10\"}}> \n        {serviceContent.service_content.page_title}\n        </h1>\n            <br></br>\n        <h4 style={{\"font-weight\": \"bold\", \"color\": text_colour, \"position\": \"absolute\", \"top\": \"58%\", \"left\": \"20%\", \"z-index\": \"10\"}}> {serviceContent.service_content.tagline}</h4>\n\n        </div>\n            )\n}\n\nexport default BackgroundImage","//=========================================================================\n//            CLIENT PAGE FOR INITIATING MESSAGE TO PROVIDER   \n//=========================================================================\n\n\nimport React, { useRef, useState } from \"react\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\n// import Alert from '@mui/material/Alert';\n\nimport {app} from '../firebase';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\n\nimport config from '../firebase';\n\nlet db;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n  db = firebase.firestore();\n}else {\n  db = firebase.app().firestore() // if already initialized, use that one\n}\n\nfunction Messages ({ serviceContent }) {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n  const [success, setSuccess] = useState(null)\n  const nameRef = useRef()\n  const messageRef = useRef()\n  const emailRef = useRef()\n  // const [serviceProviderData, setServiceProviderData] = useState(serviceContent);\n  // const [value, setValue] = useState()\n  // const onInput = ({target:{value}}) => setValue(value)\n \n \n  async function onFormSubmit (e){\n    e.preventDefault();\n    const nameSent = nameRef.current.value;\n    const emailSent = emailRef.current.value\n    const messageSent = messageRef.current.value\n    // console.log(\"Name: \" + nameSent)\n    // console.log(\"Email: \" + emailSent)\n    // console.log(\"Message: \" + messageSent)\n    try{\n      const currentTime = Date.now()\n      const convoref = db.collection('serviceProviders').doc(serviceContent.site_name).collection('conversations').doc()\n      const convorefID = convoref.id\n      // console.log(\"convorefID is: \" + convorefID)\n      await convoref.set({\"last_message_sent\": messageSent, \"last_message_sent_by\": \"client\", \"client_name\": nameSent, \"client_email\": emailSent, \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n      await db.collection('serviceProviders').doc(serviceContent.site_name).collection('conversations').doc(convorefID).collection('messages').add({\"message\": messageSent, \"client_name\": nameSent, \"client_email\": emailSent, \"message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n      \n      // get msgs_notifications array, push new notification and convo docID the notification came from not the messages docID\n      const msgNotifRef = db.collection('serviceProviders').doc(serviceContent.site_name)\n      msgNotifRef.get().then(async (doc)=>{\n        let msg_notif_array = doc.data().msgs_notifications\n        let temp_msg_notif_array = msg_notif_array.push(convorefID)\n        await msgNotifRef.update({\"msgs_notifications\" : firebase.firestore.FieldValue.arrayUnion(...msg_notif_array)}) \n      })\n\n      setSuccess(true)\n    }\n    catch(err){\n      console.log(\"error is: \" + err)\n      setSuccess(false);\n    }\n}\n\n  if(success === null){\n    return (\n      <>\n      <div>\n        <h1>Send a Message</h1> \n      </div>\n      <div>\n      {!success && \n      <Card>\n      <Card.Body>\n        <Form onSubmit={onFormSubmit}>\n          <Form.Group id=\"name\">\n            <Form.Label>Name</Form.Label>\n            <Form.Control type=\"text\" ref={nameRef} placeholder=\"name\" required />\n          </Form.Group>\n\n          <Form.Group id=\"email\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control type=\"email\" ref={emailRef} placeholder=\"email\" required />\n          </Form.Group>\n          \n          <Form.Group id=\"message\">\n            <Form.Label>Message</Form.Label>\n            <Form.Control type=\"text\" ref={messageRef} placeholder=\"Type message\" required />\n          </Form.Group>\n          <Button type=\"submit\">Send Message</Button>\n        </Form>\n        </Card.Body>\n        </Card>}\n\n\n      {/* {success && <h2>Successfully sent</h2>} */}\n\n      \n\n      </div>\n      </>\n      //\n      //start working on cloud function to send email to serviceProvider and to client\n\n      //on serviomain add firebase function code to retrieve messages and set notifications\n      //for each convo retrieve last message sent, whether unread by provider or not and all messages from convo\n    );\n\n  }     \n  else{\n    return(\n      <div>\n        {success ? <Alert variant=\"success\">\n        Your message was successfully sent to {serviceContent.service_content.page_title}\n        <br/>\n        We will send you an email when {serviceContent.service_content.page_title} responds to your message.\n      </Alert>   :\n        <Alert variant=\"danger\">\n        Error occurred, please contact support at support@servviio.com\n        <br/>\n      </Alert>\n        }\n\n      </div>\n      \n    )\n  }\n\n}\n   \n  export default Messages;","import React, {useState, useEffect} from 'react';\nimport { Spinner } from 'react-bootstrap';\nconst { io } = require(\"socket.io-client\");\nconst axios = require('axios');\n\nconst port = process.env.PORT || 5000;\n\nconst Calendar = ({ serviceContent }) => {\n\n  // const [content, setContent] = useState(null);\n  // const [isPending, setIsPending] = useState(true);\n\n\n  \n\n    return (\n      <div className=\"Calendar\">\n          <h1> {serviceContent.site_name}'s calendar events - React page </h1>\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n          <br></br>\n          <h3>More content</h3>\n      </div>\n    );\n  }\n   \n  export default Calendar;","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\nimport {useLocation} from 'react-router-dom';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n\n\n  }\n\n\n\nconst useGetConvo = () => {\n  const [messages, setMessages] = useState([]);\n//   const [unreadMessages, setUnreadMessages] = useState([]);\n  const search = useLocation().search;\n\n    // console.log(\"useGetBookingMessages location and location query...\" + JSON.stringify(location) + '' + JSON.stringify(location.query))\n    \n    useEffect(()=>{\n        const searcher = new URLSearchParams(search)\n        if(!(searcher.has('chat')) || !(searcher.has('provider'))){\n            setMessages(\"DN_EXIST\")\n            // setUnreadMessages(\"DN_EXIST\")\n        }else{\n            // var messageList = [];\n            // var unreadMessageList = []\n            const providerName = new URLSearchParams(search).get('provider')\n            const conversationID = new URLSearchParams(search).get('chat')\n            const unsub =  db.collection('serviceProviders').doc(providerName).collection('conversations').doc(conversationID).collection('messages')\n            .orderBy('timestamp', 'asc')\n            .onSnapshot(async (querySnapshot)=>{\n                let messageList = [];\n                // let unreadMessageList = []\n                console.log(\"convo hook rerunning\")\n                querySnapshot.forEach((snapshot) =>{\n                    // console.log(\"snapshot data: \" + JSON.stringify(snapshot.data()))\n                    const messageID = snapshot.id\n                    if(snapshot.data().message_sent_by === \"client\"){\n                        //place unread colour or notification on message\n                        // console.log(\"adding client msg\")\n                        messageList.push({\n                        \"message\": snapshot.data().message,\n                        \"timestamp\": snapshot.data().timestamp,\n                        \"message_sent_by\": snapshot.data().message_sent_by,\n                        \"messageID\": messageID})\n                    }else{\n                    //simply place message\n                    //   console.log(\"adding provider msg\")\n                    messageList.push({\n                        \"message\": snapshot.data().message,\n                        \"timestamp\": snapshot.data().timestamp,\n                        \"message_sent_by\": snapshot.data().message_sent_by,\n                        \"messageID\": messageID})\n                    }\n                    \n                })\n                setMessages(messageList)\n                // setUnreadMessages(unreadMessageList)\n                \n                \n            }, ()=>{\n                // console.log(\"not resetting messageList\")\n                // setUnreadMessages(\"DN_EXIST\")\n                setMessages(\"DN_EXIST\")\n            })\n            return () => unsub();\n            \n        }\n    }, [])\n    console.log(\"messages: \" + JSON.stringify(messages))\n\n    return messages\n}\n\nexport default useGetConvo;","//==================================================================\n//            BACK BUTTON\n//------------------------------------------------------------------\n//   Redirects user to previous page in history\n//==================================================================\n\nimport React from 'react'\nimport { useHistory } from \"react-router-dom\";\n\nfunction ReturnHome(){\n    let history = useHistory();\n    return (\n        <div className=\"back-button\" style={{\"paddingBottom\": \"10px\"}}>\n\n          <button onClick={() => history.push('/')}>Return Home</button>\n        </div>\n    );\n};\n\n\nexport default ReturnHome\n","//=========================================================================\n//    CLIENT PAGE FOR RESPONDING TO PROVIDER'S RESPONSE TO MESSAGE \n//=========================================================================\n\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport Row from \"react-bootstrap/Row\"\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport config from '../firebase';\nimport { Spinner, Form, Button, Card } from \"react-bootstrap\";\nimport {useLocation, Redirect} from 'react-router-dom'\nimport useGetConvo from './hooks/useGetConvo';\nimport useWindowSize from '../store_pages/hooks/useWindowSize';\nimport ReturnHome from './components/ReturnHome';\n\nlet db;\n  var store_name;\n  var loaded;\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n    db = firebase.firestore();\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n\nfunction Conversations({match, location}) {\n    const search = useLocation().search;\n    const {width, height} = useWindowSize()\n    const [screenW, setScreenW] = useState(0.7*width)\n\n    const msgStyling = {\"client\": {\"padding\": \"5px\", \"border-radius\": \"5px\", \"background-color\": \"#0574DD\", \"color\": \"white\", \"maxWidth\": `${0.8*screenW}px`, \"margin-right\":\"5px\", \"margin-left\": \"auto\"},\n    \"provider\": {\"padding\": \"5px\", \"border-radius\": \"5px\", \"background-color\": \"white\", \"color\": \"black\", \"maxWidth\": `${0.8*screenW}px`, \"margin-left\":\"5px\", \"margin-right\": \"auto\"} }\n\n    const provider_Name = new URLSearchParams(search).get('provider')\n\n    const messages = useGetConvo()\n    const [redirect, setRedirect] = useState(false);\n    const [finishedLoading, setFinishedLoading] = useState(false)\n    const messageRef = useRef()\n    var messageList = [];\n\n    useEffect(()=>{\n      if(width < 672){\n        setScreenW(0.8*width)\n      }else if(width < 990){\n        setScreenW(0.8*width)\n      }else{\n        setScreenW(0.5*width)\n      }\n    }, [width, height])\n\n    async function onFormSubmit (e){\n        const providerName = new URLSearchParams(search).get('provider')\n        const conversationID = new URLSearchParams(search).get('chat')\n        e.preventDefault();\n        const messageSent = messageRef.current.value\n        console.log(\"Message: \" + messageSent)\n        // setSuccess(true)\n        try{\n            const currentTime = Date.now()\n        //create new message doc for this new message provider has just typed\n          const messageRefFB = db.collection('serviceProviders').doc(providerName).collection('conversations').doc(conversationID).collection('messages').doc()\n        // update the 'most recent message sent field in the conversations collection doc'\n          const convoRef = db.collection('serviceProviders').doc(providerName).collection('conversations').doc(conversationID)\n        //   console.log(\"convorefID is: \" + convorefID)\n          await messageRefFB.set({\"message\": messageSent, \"message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n          convoRef.update({\"last_message_sent\": messageSent, \"last_message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n          .then(()=>{\n            messageRef.current.value = ''\n          })\n       \n          // get msgs_notifications array, push new notification and convo docID the notification came from not the messages docID\n        const msgNotifRef = db.collection('serviceProviders').doc(providerName)\n        msgNotifRef.get().then(async (doc)=>{\n          let msg_notif_array = doc.data().msgs_notifications\n          let temp_msg_notif_array = msg_notif_array.push(conversationID)\n          await msgNotifRef.update({\"msgs_notifications\" : firebase.firestore.FieldValue.arrayUnion(...msg_notif_array)}) \n        })\n            console.log(\"message sent: \" + messageSent) \n        }\n        catch(err){\n          console.log(\"error is: \" + err)\n        }\n    }\n\n\n\n\n\n      if(messages === \"DN_EXIST\"){\n          return(<Redirect to=\"/\" />\n              )\n      }\n      else{\n        return(  \n          <div style={{\"maxHeight\": height}}>   \n          <ReturnHome/>\n            <div style={{\"display\": \"grid\", \"place-items\": \"center\", \"align-content\": \"center\", \"paddingLeft\": \"10px\"}}>\n                {/* <h2 style={{\"position\": \"absolute\", \"top\": \"0\", \"padding-bottom\": \"5px\"}}> Your Messages</h2> */}\n\n                {messages ?\n                <>\n                  <Card style={{\"width\": `${screenW}px`, \"height\": `${0.7*height}px`, \"position\": \"absolute\", \"maxHeight\": `${0.7*height}px`, \"overflowY\": \"auto\", \"top\":\"12%\" }}>\n\n                        {messages.map((item, index)=>{\n                        return(\n                          <>\n                          <br/>\n                          <div style={msgStyling[item.message_sent_by]}>\n                            <li key={index} style={{\"listStyle\": \"none\"}}>\n                            {item.message_sent_by === 'client' ? <h5>you:</h5> : <h5>{provider_Name}:</h5> }\n                                <h4>\n                                    {item.message}\n                                </h4>\n                            </li>\n                            </div>\n                          </>\n                        )\n                        })}\n                    </Card>\n                    <div style={{\"position\": \"absolute\", \"bottom\": \"0px\", \"display\": \"table\"}}>\n                        \n                      <Form inline onSubmit={onFormSubmit}>\n                        <div style={{\"display\": \"table-row\"}}>\n                          \n                          <div style={{\"display\": \"table-cell\"}}>\n                            <Form.Group id=\"message\">\n                              <Form.Control type=\"text\" ref={messageRef} placeholder=\"Type message\" required />\n                            </Form.Group>\n                          </div>\n\n                          <div style={{\"display\": \"table-cell\"}}>\n                            <Button type=\"submit\">Send Message</Button>\n                          </div>\n\n                        </div>\n                      \n                      </Form>\n\n                    </div>\n                </>\n                :\n                <Spinner animation='border'/>\n                }\n                 \n            </div>\n            </div>\n        )\n      }\n\n      \n      \n      \n}\n\n\nexport default Conversations","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\nimport {useLocation} from 'react-router-dom';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n\n\n\nconst useGetBookingMessages = () => {\n  const [messages, setMessages] = useState([]);\n//   const [unreadMessages, setUnreadMessages] = useState([]);\n  const search = useLocation().search;\n\n    // console.log(\"useGetBookingMessages location and location query...\" + JSON.stringify(location) + '' + JSON.stringify(location.query))\n    \n    useEffect(()=>{\n        const searcher = new URLSearchParams(search)\n        if(!(searcher.has('bookingref')) || !(searcher.has('provider'))){\n            setMessages(\"DN_EXIST\")\n            // setUnreadMessages(\"DN_EXIST\")\n        }else{\n            // var messageList = [];\n            // var unreadMessageList = []\n            const providerName = new URLSearchParams(search).get('provider')\n            const bookingRefID = new URLSearchParams(search).get('bookingref')\n            const unsub = db.collection('serviceProviders').doc(providerName).collection('bookingrequests').doc(bookingRefID).collection('messages')\n            .orderBy('timestamp', 'asc')\n            .onSnapshot(async (querySnapshot)=>{\n                let messageList = [];\n                // let unreadMessageList = []\n                console.log(\"convo hook rerunning\")\n                querySnapshot.forEach((snapshot) =>{\n                    // console.log(\"snapshot data: \" + JSON.stringify(snapshot.data()))\n                    const messageID = snapshot.id\n                    if(snapshot.data().message_sent_by === \"client\"){\n                        //place unread colour or notification on message\n                        // console.log(\"adding client msg\")\n                        messageList.push({\n                        \"message\": snapshot.data().message,\n                        \"timestamp\": snapshot.data().timestamp,\n                        \"message_sent_by\": snapshot.data().message_sent_by,\n                        \"messageID\": messageID})\n                    }else{\n                    //simply place message\n                    //   console.log(\"adding provider msg\")\n                    messageList.push({\n                        \"message\": snapshot.data().message,\n                        \"timestamp\": snapshot.data().timestamp,\n                        \"message_sent_by\": snapshot.data().message_sent_by,\n                        \"messageID\": messageID})\n                    }\n                    \n                })\n                setMessages(messageList)\n                // setUnreadMessages(unreadMessageList)\n                \n                \n            }, ()=>{\n                // console.log(\"not resetting messageList\")\n                // setUnreadMessages(\"DN_EXIST\")\n                setMessages(\"DN_EXIST\")\n            })\n            return () => unsub();\n            \n        }\n    }, [])\n    console.log(\"messages: \" + JSON.stringify(messages))\n\n    return messages\n}\n\nexport default useGetBookingMessages;","import { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\nimport {useLocation} from 'react-router-dom';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n\n\n  }\n\n\nconst useGetBookingDetails = () => {\n    const [bookingDetails, setBookingDetails] = useState(null);\n    const search = useLocation().search;\n  \n\n    useEffect(()=>{\n        const searcher = new URLSearchParams(search)\n        if(!(searcher.has('bookingref')) || !(searcher.has('provider'))){\n            setBookingDetails(\"DN_EXIST\")\n        }else{\n            const providerName = new URLSearchParams(search).get('provider')\n            const bookingID = new URLSearchParams(search).get('bookingref')\n                \n            const unsub =  db.collection('serviceProviders').doc(providerName).collection('bookingrequests').doc(bookingID)\n            .onSnapshot((doc) => {\n                setBookingDetails(doc.data())\n            }, ()=>{\n                setBookingDetails(\"DN_EXIST\")\n            });\n            \n            return () => unsub();\n            \n            \n        }\n}, [])\n\n  \n\n  return bookingDetails\n}\n\nexport default useGetBookingDetails;","//=========================================================================\n//    CLIENT PAGE FOR RESPONDING TO PROVIDER'S RESPONSE TO BOOKING REQUEST \n//=========================================================================\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport Row from \"react-bootstrap/Row\"\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport config from '../firebase';\nimport { Spinner, Form, Button, Card } from \"react-bootstrap\";\nimport {useLocation, Redirect} from 'react-router-dom'\nimport useGetBookingMessages from './hooks/useGetBookingMessages';\nimport useGetBookingDetails from './hooks/useGetBookingDetails';\nimport useWindowSize from '../store_pages/hooks/useWindowSize';\nimport ReturnHome from './components/ReturnHome';\n\n\nlet db;\n  var store_name;\n  var loaded;\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(config);\n    db = firebase.firestore();\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n  }\n\nfunction BookingDetails({match, location}) {\n    const {width, height} = useWindowSize()\n    const [screenW, setScreenW] = useState(0.7*width)\n\n    const msgStyling = {\"client\": {\"padding\": \"5px\", \"border-radius\": \"5px\", \"background-color\": \"#0574DD\", \"color\": \"white\", \"maxWidth\": `${0.4*width}px`, \"margin-right\":\"5px\", \"margin-left\": \"auto\"},\n    \"provider\": {\"padding\": \"5px\", \"border-radius\": \"5px\", \"background-color\": \"white\", \"color\": \"black\", \"maxWidth\": `${0.4*width}px`, \"margin-left\":\"5px\", \"margin-right\": \"auto\"} }\n\n    const search = useLocation().search;\n    \n    const messages = useGetBookingMessages()\n    const bookingdetails = useGetBookingDetails()\n    const messageRef = useRef()\n    const provider_Name = new URLSearchParams(search).get('provider')\n\n    useEffect(()=>{\n        if(width < 672){\n          setScreenW(0.8*width)\n        }else if(width < 990){\n          setScreenW(0.8*width)\n        }else{\n          setScreenW(0.5*width)\n        }\n      }, [width, height])\n\n    async function onFormSubmit (e){\n        const providerName = new URLSearchParams(search).get('provider')\n        const bookingRefID = new URLSearchParams(search).get('bookingref')\n        e.preventDefault();\n        const messageSent = messageRef.current.value\n        console.log(\"Message: \" + messageSent)\n        // setSuccess(true)\n        try{\n            const currentTime = Date.now()\n            //create new message doc for this new message provider has just typed\n            const messageRefFB = db.collection('serviceProviders').doc(providerName).collection('bookingrequests').doc(bookingRefID).collection('messages').doc()\n            // update the 'most recent message sent field in the conversations collection doc'\n            const bookingRef = db.collection('serviceProviders').doc(providerName).collection('bookingrequests').doc(bookingRefID)\n            //   console.log(\"convorefID is: \" + convorefID)\n            await messageRefFB.set({\"message\": messageSent, \"message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n            bookingRef.update({\"last_message_sent\": messageSent, \"last_message_sent_by\": \"client\", \"timestamp\": currentTime, \"provider_read_status\": \"unread\"})\n            .then(()=>{\n                messageRef.current.value = ''\n            })\n            // get booking_request_notifications array, push new notification and bookingrequest docID the notification came from not the messages docID\n        \n            const bookingRequestNotifRef = db.collection('serviceProviders').doc(providerName)\n            bookingRequestNotifRef.get().then(async (doc)=>{\n            let booking_requests_notif_array = doc.data().booking_requests_notifications\n            let temp_msg_notif_array = booking_requests_notif_array.push(bookingRefID)\n            await bookingRequestNotifRef.update({\"booking_requests_notifications\" : firebase.firestore.FieldValue.arrayUnion(...booking_requests_notif_array)}) \n            })\n\n            console.log(\"message sent: \" + messageSent) \n        }\n        catch(err){\n          console.log(\"error is: \" + err)\n        }\n    }\n\n\n\n      if((bookingdetails === \"DN_EXIST\" || messages === \"DN_EXIST\")){\n          return(<Redirect to=\"/\" />\n              )\n      }\n      else{\n        return(     \n            <div style={{\"maxHeight\": height}}>\n            <div>\n                <ReturnHome/>\n            </div>\n            <h2 style={{\"position\": \"absolute\", \"top\": \"0%\"}}> Your Booking Request</h2>\n            <br/>\n                {\n                    (bookingdetails && messages) ?\n                        <div style={{\"display\": \"grid\", \"place-items\": \"center\", \"align-content\": \"center\"}}>\n                            <Card style={{\"width\": `${screenW}px`, \"position\": \"absolute\", \"maxHeight\": `${0.25*height}px`, \"overflowY\": \"auto\", \"top\":\"10%\"}}>\n                                <Card.Body>\n                                    <Card.Title>\n                                        {bookingdetails.client_name}\n                                    </Card.Title>\n                                    <Card.Text>\n                                        Service: {bookingdetails.service_requested}\n                                        Notes: {bookingdetails.service_notes}\n                                        <Form.Label>Event Start</Form.Label>\n                                        <Card.Text\n                                            type=\"text\"\n                                            disabled={true}\n                                            // ref={eventTodayNotesRef}\n                                            placeholder={`${new Date(bookingdetails.startTime).toString()}`}\n                                        />\n                                        <br/>\n\n                                        <Form.Label>Event End</Form.Label>\n                                        <Card.Text \n                                        type=\"text\"\n                                        disabled={true}\n                                        // ref={eventTodayNotesRef}\n                                        placeholder={`${new Date(bookingdetails.endTime).toString()}`}\n                                        />\n                                    </Card.Text>\n                                </Card.Body>\n\n                                {/* <div>\n                                    <Button variant='secondary' onClick={()=>{setShowButtons(true)}}> Cancel </Button>\n                                </div> */}\n                                \n\n                            </Card>\n                            <br/>\n        \n                           <Card style={{\"width\": `${screenW}px`, \"height\": `${0.4*height}px`, \"display\": \"block\", \"maxHeight\": `${0.4*height}px`, \"overflowY\": \"auto\", \"top\":\"50%\" }}>\n                                {messages.map((item, index)=>{\n                                return(\n                                    <>\n                                    <div style={msgStyling[item.message_sent_by]} >\n                                    <li key={index} style={{\"list-style\": \"none\"}}>\n                                    {item.message_sent_by === 'client' ? <h5>you:</h5> : <h5>{provider_Name}:</h5> }\n                                        <h4>\n                                            {item.message}\n                                        </h4>\n                                    </li>\n                                    </div>\n                                    <br/>\n                                    <br/>\n                                    </>\n                                )\n                                })}\n                            </Card>\n\n                            <div style={{\"position\": \"absolute\", \"bottom\": \"0px\", \"display\": \"table\"}}>\n                                <Form inline onSubmit={onFormSubmit}>\n                                    <div style={{\"display\": \"table-row\"}}>\n                                        \n                                        <div style={{\"display\": \"table-cell\"}}>\n                                            <Form.Group id=\"message\">\n                                                <Form.Control type=\"text\" ref={messageRef} placeholder=\"Type message\" required />\n                                            </Form.Group>\n                                        </div>\n\n                                        <div style={{\"display\": \"table-cell\"}}>\n                                            <Button type=\"submit\">Send Message</Button>\n                                        </div>\n                                    \n                                    </div>\n                                    \n                                </Form>\n                            </div>\n\n                        </div>\n                    : <Spinner animation='border'/>\n\n                }\n                 \n            </div>\n        )\n      }\n\n      \n      \n      \n}\n\n\nexport default BookingDetails","//import logo from './logo.svg';\nimport React, {useState} from 'react';\nconst { io } = require(\"socket.io-client\");\n\n\n\nconst port = process.env.PORT || 5000;\n\nfunction NonExistentStore() {\n  \n  \n  return (\n    <div className=\"Lost\">\n      <h1> The page you are looking for doesn't exist </h1>\n      <br></br>\n      <h2> Navigate to servviio.com to create a site for your service </h2>\n\n    </div>\n  );\n}\n\nexport default NonExistentStore;\n","//==================================================================\n//            HOSTNAME RETRIEVAL HOOK\n//------------------------------------------------------------------\n//   Hook uses the hostname in the window to search for the provider's \n// store content to use as props throughout the rest of the application\n//==================================================================\n\n\n\nimport { useState, useEffect } from 'react';\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\"\nimport {config} from '../../firebase';\n// import { projectFirestore } from '../firebase/config';\n\n\nlet db;\nif (!firebase.apps.length) {\n    db = firebase.firestore()\n    firebase.initializeApp(config);\n  }else {\n    db = firebase.app().firestore() // if already initialized, use that one\n\n\n  }\n\n\n\nconst useGetHostName = () => {\n  const hostName  = window.location.hostname\n  const [hostToSend, setHostToSend] = useState(null)\n\n  \n\n  function changeHostName() {\n    setHostToSend(hostName);\n}\n    useEffect(()=>{\n        changeHostName()\n\n    }, [hostName])\n    console.log(\"hostname is: \" + hostName)\n\n    return hostToSend\n}\n\nexport default useGetHostName;","//import logo from './logo.svg';\nimport './App.css';\nimport Home from './store_pages/BookingRequest'\nimport {BrowserRouter as Router, Route, Switch, useLocation} from 'react-router-dom';\nimport Lost from './store_pages/NonExistentRoute';\n\nimport React, {useState, useEffect} from 'react';\nimport Gallery from './store_pages/Gallery';\nimport Services from './store_pages/Services';\nimport Navigation from './store_components/Navigation';\nimport BackgroundImage from './store_components/BackgroundImage';\n\nimport Calendar from './store_pages/Calendar';\nimport BookingRequest from './store_pages/BookingRequest';\nimport Messages from './store_pages/Messages';\nimport Conversations from './store_pages/Conversation';\nimport BookingDetails from './store_pages/BookingDetails';\nimport { Alert, Spinner } from 'react-bootstrap';\nimport Advertisements from './store_pages/components/Advertisements';\nimport NonExistentRoute from './store_pages/NonExistentRoute';\nimport NonExistentStore from './store_pages/NonExistentStore';\n\n\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\";\nimport {config} from './firebase';\nimport useGetHostName from './store_pages/hooks/useGetHostName';\n\nconst { io } = require(\"socket.io-client\");\nconst axios = require('axios');\n\nvar providerName;\nlet db;\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(config);\n  db = firebase.firestore();\n}else {\n  db = firebase.app().firestore() // if already initialized, use that one\n}\n\n\n\nconst port = process.env.PORT || 5000;\n\nfunction App() {\n  const [content, setContent] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const location = useLocation();\n  const [errorPage, setErrorPage] = useState(false)\n  const [noNav, setNoNav] = useState(false)\n  const [error, setError] = useState(false)\n  // const host_name = useGetHostName()\n  const [host_name, setHost_Name] = useState(null)\n\n\n\n  useEffect(() => {\n    if(firebase.auth().currentUser){\n      getSubdomain()\n    }else{\n      firebase.auth().signInAnonymously().then(()=>{\n        getSubdomain()\n      },()=>{\n        setError(true)\n      })\n    }\n    \n    \n\n  }, [])\n\n\n  function getSubdomain(){\n    // const subdomainString = window.location.hostname\n  \n      // console.log(\"user is: \" + JSON.stringify(user))\n      // console.log(\"email is: \" + user.email)\n      console.log(\"href url: \" + window.location.href)\n      console.log(\"document url: \" + document.URL)\n      const baseURL = new URL(document.URL)\n\n      console.log(\"hostname: \" + baseURL.hostname)\n      // const subdomainString = document.URL.replace('http://', '').replace(':5000','')\n      const subdomainString = baseURL.hostname\n      providerName = subdomainString.replace('.myservviio.com', '')\n      providerName = providerName.replace('.localhost', '')\n\n      if(content === null){\n        db.collection(\"serviceProviders\").doc(providerName)\n        .get().then((doc) => {\n                if (doc.exists) {\n                    // console.log(\"Store exists: \" + JSON.stringify(doc.data()))\n                    setContent({\"site_name\" : doc.id, \"service_content\":doc.data()})\n                    setIsPending(false)\n                } else {\n                    // console.log(\"No such provider!\");\n                    setErrorPage(true)\n                }\n        },(err)=>{\n          console.log(\"provider probably doesn't exist, error was: \" + err)\n        })\n      }\n    \n    \n\n\n  }\n  if(errorPage === true){\n    return(\n      <NonExistentStore/>\n    )\n  }else if(error){\n    <Alert variant='danger'>\n      Error occurred please contact help@servviio.com\n    </Alert>\n  }\n  else{\n\n    if((content === null) || (content === undefined) || (!content)){\n      return (\n        <Spinner animation=\"border\"/>\n      )\n    }\n    else{\n      return (\n        <>\n        <div className='landingPage'>\n\n          <div style={{\"padding\": \"40px\"}}>\n        \n            {(!noNav && location.pathname !== '/booking-request/details' && location.pathname !== '/conversations') && <Navigation serviceContent={content} />}\n    \n            {/* {((location.pathname !== \"/\") && (!noNav)) && \n              <div>\n                <Advertisements/>\n              </div>\n            } */}\n          </div>\n\n          <div>\n  \n          <Switch>\n  \n            <Route exact path=\"/\">\n            { !content && <Spinner/> }\n              {content && <BackgroundImage serviceContent={content}/>}\n            </Route>\n  \n            <Route exact path=\"/services\">\n              <div>\n              { (!content) && <Spinner/> }\n                <Services serviceContent={content} />\n              </div>\n            </Route>\n  \n            <Route exact path=\"/send-me-a-booking-request\">\n            { (!content) && <Spinner/> }\n              {content && <BookingRequest serviceContent={content} />}\n            </Route>\n  \n            <Route exact path=\"/booking-request/details\">\n            { (!content) && <Spinner/> }\n              <BookingDetails />\n            </Route>\n  \n            <Route exact path=\"/gallery\">\n            { (!content) && <Spinner/> }\n              {content && <Gallery serviceContent={content} />}\n            </Route>\n  \n            <Route exact path=\"/send-me-a-message\">\n            { (!content) && <Spinner/> }\n              {content && <Messages serviceContent={content} />}\n            </Route>\n\n            {/* <Route exact path=\"/calendar\">\n            { (!content) && <Spinner/> }\n              {content && <Calendar serviceContent={content} />}\n            </Route> */}\n  \n            <Route exact path=\"/conversations\">\n            {/* { (!content) && <Spinner/> } */}\n              <Conversations />\n            </Route>\n  \n            <Route>\n              <NonExistentRoute/>\n            </Route>\n            \n          </Switch>\n          </div>\n        </div>\n        </>\n        \n      );\n    }\n  }\n\n  \n\n\n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter as Router} from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}